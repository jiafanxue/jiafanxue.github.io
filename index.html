<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="Do what you want, do what you wish">
<meta property="og:type" content="website">
<meta property="og:title" content="Xefvan's blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Xefvan's blog">
<meta property="og:description" content="Do what you want, do what you wish">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Xefvan's blog">
<meta name="twitter:description" content="Do what you want, do what you wish">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Tutuxs'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/"/>

  <title> Xefvan's blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-[UA-85210305-1]-1', 'auto');
  ga('send', 'pageview');
</script>









  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Xefvan's blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/20/C-algorithms-ninesort/" itemprop="url">
                  九大排序算法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-19T23:00:51Z" content="2016-10-19">
              2016-10-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">programming</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/20/C-algorithms-ninesort/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/20/C-algorithms-ninesort/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>九大排序算法</p>
<ul>
<li>冒泡排序</li>
<li>插入排序</li>
<li>选择排序</li>
<li>快速排序</li>
<li>归并排序</li>
<li>堆排序</li>
<li>计数排序</li>
<li>基数排序</li>
<li>桶排序</li>
</ul>
<p><font color="#ff0000">注:</font></p>
<ol>
<li>以下遍历中用到了swap()函数，进行两个数的交换</li>
<li>其中的伪代码参考自《算法导论第三版》</li>
</ol>
<hr>
<h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><p>冒泡排序是一种简单的排序算法。它重复地“走访”要排序的数列，一次比较两个元素，如果他们的顺序错误就进行交换。</p>
<p>时间复杂度：O(n^2)<br>最优时间复杂度：O(n)<br>平均时间复杂度：O(n^2)<br>空间复杂度：O(n)，<br>需要辅助空间：O(1)</p>
<h4 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h4><ol>
<li>比较相邻的元素。如果第一个比第二个大，就交换他们两个。</li>
<li>对每一对相邻元素作同样的工作，从开始第一对到结尾的最后一对。这步做完后，最后的元素会是最大的数。</li>
<li>针对所有的元素重复以上的步骤，除了最后一个。</li>
<li>持续每次对越来越少的元素重复上面的步骤，直到没有任何一对数字需要比较。</li>
</ol>
<h4 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">bubbleSort</span><span class="params">(T a[], <span class="keyword">int</span> n)</span>	<span class="comment">// n为数组的大小</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = n; i &gt;= <span class="number">0</span>; i--)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">if</span>(a[j] &gt; a[j+<span class="number">1</span>])</div><div class="line">				swap(a[j], a[j+<span class="number">1</span>]);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>当然这种也可以<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">bubbleSort</span><span class="params">(T a[], <span class="keyword">int</span> n)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n - <span class="number">1</span>; j++)</div><div class="line">			<span class="keyword">if</span>(a[j] &gt; a[j+<span class="number">1</span>])</div><div class="line">				swap(a[j], a[j+<span class="number">1</span>]);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<hr>
<h3 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h3><p>当我们对少量元素进行排序的时候，插入排序不失为一种有效而又方便的排序算法</p>
<h4 id="插入排序的伪代码"><a href="#插入排序的伪代码" class="headerlink" title="插入排序的伪代码"></a>插入排序的伪代码</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">INSERTSORT(A)</div><div class="line"><span class="keyword">for</span> j = <span class="number">2</span> to A.length</div><div class="line">	key = A[j];</div><div class="line">	i = j - <span class="number">1</span>;</div><div class="line">	<span class="keyword">while</span> i &gt; <span class="number">0</span> and A[i] &gt; key</div><div class="line">		A[i + <span class="number">1</span>] = A[i]</div><div class="line">		i = i <span class="number">-1</span></div><div class="line">	A[i + <span class="number">1</span>] = key</div></pre></td></tr></table></figure>
<h4 id="实现思路-1"><a href="#实现思路-1" class="headerlink" title="实现思路"></a>实现思路</h4><ol>
<li>从第一个元素开始，该元素可以认为已经被排序</li>
<li>取出下一个元素，在已经排序的元素序列中从后向前扫描</li>
<li>如果该元素（已排序）大于新元素，将该元素移到下一位置</li>
<li>重复步骤3，直到找到已排序的元素小于或者等于新元素的位置</li>
<li>将新元素插入到该位置后</li>
<li>重复步骤2~5</li>
</ol>
<p>或者更通俗的讲，你可以将数组分类两部分，一部分为有序的即数组的第一个元素， 另一部分为除有序部分之外的元素。例如：a[0], a[1, n]。每次循环与有序的部分进行比较，插入有序的部分。</p>
<h4 id="图解"><a href="#图解" class="headerlink" title="图解"></a>图解</h4><p><img src="http://img.blog.csdn.net/20161018225736724" alt="插入排序"></p>
<h4 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertSort</span><span class="params">(T a[], <span class="keyword">int</span> n)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)</div><div class="line">	&#123;</div><div class="line">		T t = a[i];</div><div class="line">		<span class="keyword">int</span> j;</div><div class="line">		<span class="keyword">for</span>(j = i <span class="number">-1</span> ; j &gt;= <span class="number">0</span> &amp;&amp; t &lt; a[j]; j--) <span class="comment">// 这里循环遍历有序数组，把t插入有序数组</span></div><div class="line">			a[j+<span class="number">1</span>] = a[j];</div><div class="line">		a[j+<span class="number">1</span>] = t;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h3><p>选择排序是一种简单直观的排序算法。</p>
<h4 id="实现思路-2"><a href="#实现思路-2" class="headerlink" title="实现思路"></a>实现思路</h4><p>它的工作原理如下。首先在未排序序列中找到最小（大）元素，存放到排序序列的起始位置，然后，再从剩余未排序元素中继续寻找最小（大）元素，然后放到已排序序列的末尾。以此类推，直到所有元素均排序完毕。</p>
<h4 id="图解-1"><a href="#图解-1" class="headerlink" title="图解"></a>图解</h4><p>任然拿上面的数组进行演示，这里以每次查找最大值为例</p>
<p><img src="http://img.blog.csdn.net/20161019235734139" alt="选择排序"></p>
<h4 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现"></a>代码实现</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">findindex</span><span class="params">(T a[], <span class="keyword">int</span> n)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> maxindex = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(a[maxindex] &lt; a[i])</div><div class="line">			maxindex = i;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> maxindex;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectSort</span><span class="params">(T a[], <span class="keyword">int</span> n)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = n; i &gt; <span class="number">1</span>; i--)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">int</span> maxindex = findindex(a, i);</div><div class="line">		swap(a[maxindex], a[i - <span class="number">1</span>]);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>当然如果你每次查找最小值的话，代码如下<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectionSort</span><span class="params">(T a[], <span class="keyword">int</span> n)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">int</span> min = i;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; j++)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">if</span>(a[j] &lt; a[min])</div><div class="line">				min = j;</div><div class="line">		&#125;</div><div class="line">		swap(a[i], a[min]);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<hr>
<h3 id="快速排序（快排）"><a href="#快速排序（快排）" class="headerlink" title="快速排序（快排）"></a>快速排序（快排）</h3><p>快速排序通常是实际排序引用中最好的选择，因为它平均性能非常好</p>
<h4 id="实现思路-3"><a href="#实现思路-3" class="headerlink" title="实现思路"></a>实现思路</h4><ol>
<li>将数组A[p…r]划分为两个子数组A[p…q-1]和A[q+1 … r],使得A[p…q-1]的每一个元素都小于A[q]，而A[q+1 … r]的每一个元素都大于A[q]</li>
<li>通过递归调用快速排序，对子数组A[p…q-1]和A[q+1 … r]进行排序</li>
</ol>
<h4 id="伪代码"><a href="#伪代码" class="headerlink" title="伪代码"></a>伪代码</h4><p>分为两段，一段递归调用，一段进行数组划分<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">QUICKSORT(A, p, r)</div><div class="line">	<span class="keyword">if</span> p &lt; r</div><div class="line">		q = PARTITION(A, p, r)</div><div class="line">		QUICKSORT(A, p, q<span class="number">-1</span>)</div><div class="line">		QUICKSORT(A, q+<span class="number">1</span>, r)</div></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">PARTITION(A, p, r)</div><div class="line">	x = A[r]</div><div class="line">	i = p - <span class="number">1</span></div><div class="line">	<span class="keyword">for</span> j = p to r - <span class="number">1</span></div><div class="line">		<span class="keyword">if</span> A[j] &lt;= x</div><div class="line">			i = i + <span class="number">1</span></div><div class="line">			exchange A[i] with A[j]</div><div class="line">	exchange A[i + <span class="number">1</span>] with A[r]</div><div class="line">	<span class="keyword">return</span> i + <span class="number">1</span></div></pre></td></tr></table></figure>
<h4 id="图解-2"><a href="#图解-2" class="headerlink" title="图解"></a>图解</h4><p><img src="http://img.blog.csdn.net/20161020010544434" alt="快速排序"></p>
<p>再分别对灰色和黑色数组进行快速排序，形成递归</p>
<h4 id="代码实现-2"><a href="#代码实现-2" class="headerlink" title="代码实现"></a>代码实现</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> p, <span class="keyword">int</span> r)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> x = a[r];</div><div class="line">	<span class="keyword">int</span> i = p - <span class="number">1</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = p; j &lt; r; j++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(a[j] &lt;= x)</div><div class="line">		&#123;</div><div class="line">			i += <span class="number">1</span>;</div><div class="line">			swap(a[i], a[j]);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	swap(a[i+<span class="number">1</span>], a[r]);</div><div class="line">	<span class="keyword">return</span> i + <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> p, <span class="keyword">int</span> r)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(p &lt; r)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">int</span> q = partition(a, p, r);		<span class="comment">// 第一次找出图中黄颜色的下标</span></div><div class="line">		quickSort(a, p, q - <span class="number">1</span>);			<span class="comment">// 递归灰色数组</span></div><div class="line">		quickSort(a, q + <span class="number">1</span>, r);			<span class="comment">// 递归黑色数组</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h3><p>归并排序算法完全遵循分治模式。而分治模式的三个步骤分别为“分解”，“解决”，“合并”。其中归并算法的关键操作是“合并”。</p>
<h4 id="实现思路-4"><a href="#实现思路-4" class="headerlink" title="实现思路"></a>实现思路</h4><p>假设我们有一副牌分为A，B两幅，并且每一副牌都已经排序好</p>
<ol>
<li>我们逐个比较两幅牌，如果A的第一张牌小于B的第一张牌，则A的第一张牌入队</li>
<li>继续比较，A的第二张牌和B的第一张牌，较小的一张牌入队，如此重复直到遍历完所有牌</li>
</ol>
<h4 id="图解-3"><a href="#图解-3" class="headerlink" title="图解"></a>图解</h4><p><img src="http://img.blog.csdn.net/20161020213324808" alt="归并排序"></p>
<p>然而我们大多数情况下， 一个数组分为两个小数组不可能两个数组都排序好的，那么我们就应该一步一步的往上推</p>
<p>思路和原来一样，只是现在的对象变为A（B），然后将A（B）再分为两副牌，对A（B）进行排序，一直往下递归，直至排序好。</p>
<p><img src="http://img.blog.csdn.net/20161020214521596" alt="归并排序2"></p>
<h4 id="伪代码-1"><a href="#伪代码-1" class="headerlink" title="伪代码"></a>伪代码</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">MERGE(A, p, q, r)</div><div class="line">	n1 = q - p + <span class="number">1</span></div><div class="line">	n2 = r - <span class="number">1</span></div><div class="line">	let L[<span class="number">1.</span>..n1 + <span class="number">1</span>] and R[<span class="number">1.</span>..n2 + <span class="number">1</span>] be <span class="keyword">new</span> arrays</div><div class="line">	<span class="keyword">for</span> i = <span class="number">1</span> to n1</div><div class="line">		L[i] = A[p + i - <span class="number">1</span>]</div><div class="line">	<span class="keyword">for</span> j = <span class="number">1</span> to n2</div><div class="line">		R[j] = A[q + j]</div><div class="line">	L[n1 + <span class="number">1</span>] = -∞</div><div class="line">	R[n2 + <span class="number">1</span>] = -∞</div><div class="line">	<span class="keyword">for</span> k = p to r</div><div class="line">		<span class="keyword">if</span> L[i] &lt;= R[j]</div><div class="line">			A[k] = L[i]</div><div class="line">			i = i + <span class="number">1</span></div><div class="line">		<span class="keyword">else</span></div><div class="line">			A[k] = R[j]</div><div class="line">			j = j+<span class="number">1</span></div></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">MERGE-SORT(A, p, r)</div><div class="line">	<span class="keyword">if</span> p &lt; r</div><div class="line">		q = [(p + r) / <span class="number">2</span>]</div><div class="line">		MERGE-SORT(A, p, q)</div><div class="line">		MERGE-SORT(A, q + <span class="number">1</span>, r)</div><div class="line">		MERGE(A, p, q, r)</div></pre></td></tr></table></figure>
<hr>
<h4 id="代码实现-3"><a href="#代码实现-3" class="headerlink" title="代码实现"></a>代码实现</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge_array</span><span class="params">(<span class="keyword">int</span> A[], <span class="keyword">int</span> p, <span class="keyword">int</span> q, <span class="keyword">int</span> r)</span> <span class="comment">// A[p, r] -- &gt; A[p, q] + A[q + 1, r]</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> n1 = q - p + <span class="number">1</span>;</div><div class="line">	<span class="keyword">int</span> n2 = r - q;</div><div class="line">	<span class="keyword">int</span> L[n1 + <span class="number">1</span>];</div><div class="line">	<span class="keyword">int</span> R[n2 + <span class="number">1</span>];</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n1; i++)</div><div class="line">		L[i] = A[p + i <span class="number">-1</span>];</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n2; j++)</div><div class="line">		R[j] = A[q + j];</div><div class="line">	</div><div class="line">	<span class="comment">// INT_MAX 在&lt;climits&gt;里，表示整形数的最大值</span></div><div class="line">	<span class="comment">// 将最后一个元素设置为哨兵，可以简化代码，如遇到它，不可能为最小值</span></div><div class="line">	L[n1 + <span class="number">1</span>] = INT_MAX;</div><div class="line">	R[n2 + <span class="number">1</span>] = INT_MAX;</div><div class="line"></div><div class="line">	<span class="keyword">int</span> i = <span class="number">1</span>;</div><div class="line">	<span class="keyword">int</span> j = <span class="number">1</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> k = p; k &lt; r; k++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(L[i] &lt;= R[j])</div><div class="line">		&#123;</div><div class="line">			A[k] = L[i];</div><div class="line">			i++;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span></div><div class="line">		&#123;</div><div class="line">			A[k] = R[j];</div><div class="line">			j++;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge_sort</span><span class="params">(<span class="keyword">int</span> a[],<span class="keyword">int</span> p,<span class="keyword">int</span> r)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span>(p &lt; r)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">int</span> q=(p + r) / <span class="number">2</span>;</div><div class="line">        <span class="comment">//利用递归，对两段子数组分别求序，再合并</span></div><div class="line">        merge_sort(a, p, q);</div><div class="line">        merge_sort(a, q+<span class="number">1</span>, r);</div><div class="line">        merge_array(a, p, q, r);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h3><p>要想理解堆排序首先需要知道什么是堆，这里我们利用二叉（最大）堆进行排序。二叉堆可以近似看成一个完全二叉树。其中又分为最大堆和最小堆。在最大堆中，最大堆性质是指除了根以外的所有节点i都要满足: A[parent(i)] &gt;= A[i]。也就是说堆中的最大元素存放在根节点中。而最小堆真好相反。</p>
<h4 id="实现思路-5"><a href="#实现思路-5" class="headerlink" title="实现思路"></a>实现思路</h4><ol>
<li><p>首先根据推导我们很容易知道它的父节点，左孩子和右孩子下标的计算方式.用于维护最大堆</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 父节点</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">parent</span><span class="params">(<span class="keyword">int</span> i)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">return</span> i / <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 左子树</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">left</span><span class="params">(<span class="keyword">int</span> i)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">return</span> <span class="number">2</span> * i;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 右子树</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">right</span><span class="params">(<span class="keyword">int</span> i)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">return</span> <span class="number">2</span> * i + <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>建立一个最大二叉堆，并且在建立最大堆的同时要维护最大堆的性质</p>
</li>
<li>由于最大堆的性质，他的堆中最大元素肯定处于顶层根节点中，因此每次只需要把最大元素取出来，在对剩下的元素重新维护，形成新的最大堆，再接着取最顶层的最大值，依次类推，直到最后一个</li>
</ol>
<h5 id="实现代码-1"><a href="#实现代码-1" class="headerlink" title="实现代码"></a>实现代码</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">parent</span><span class="params">(<span class="keyword">int</span> i)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">return</span> i / <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">left</span><span class="params">(<span class="keyword">int</span> i)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">return</span> <span class="number">2</span>*i;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">right</span><span class="params">(<span class="keyword">int</span> i)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">return</span> <span class="number">2</span>*i + <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* 维护堆 */</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Max_HeapIfy</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> i, <span class="keyword">int</span> heap_size)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> l = left(i);</div><div class="line">	<span class="keyword">int</span> r = right(i);</div><div class="line"></div><div class="line">	<span class="keyword">int</span> largest;</div><div class="line">	<span class="keyword">if</span>(l &lt;= heap_size &amp;&amp; a[l] &gt; a[i])</div><div class="line">		largest = l;</div><div class="line">	<span class="keyword">else</span></div><div class="line">		largest = i;</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(r &lt;= heap_size &amp;&amp; a[r] &gt; a[largest])</div><div class="line">		largest = r;</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(largest != i)</div><div class="line">	&#123;</div><div class="line">		swap(a[i], a[largest]);</div><div class="line">		Max_HeapIfy(a, largest, heap_size);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* 建立最大堆 */</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Build_Max_Heap</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> heap_size)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = heap_size / <span class="number">2</span>; i &gt; <span class="number">0</span>; i--)</div><div class="line">		Max_HeapIfy(a, i, heap_size);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* 堆排序 */</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">HeapSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> heap_size)</span></span></div><div class="line">&#123;</div><div class="line">	Build_Max_Heap(a, heap_size);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = heap_size; i &gt;= <span class="number">0</span>; i--)</div><div class="line">	&#123;</div><div class="line">		swap(a[<span class="number">0</span>], a[i]);</div><div class="line">		heap_size -= <span class="number">1</span>;</div><div class="line">		Max_HeapIfy(a, <span class="number">0</span>, heap_size);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> a[<span class="number">11</span>] = &#123;INT_MIN , <span class="number">4</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">19</span>, <span class="number">10</span>, <span class="number">14</span>, <span class="number">8</span>, <span class="number">7</span>&#125;;</div><div class="line">	HeapSort(a, <span class="number">10</span>);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)			<span class="comment">// for(int i = 0; i &lt; 11; i++) 如果改成这样子会怎么样？</span></div><div class="line">		<span class="built_in">cout</span> &lt;&lt; a[i] &lt;&lt; <span class="string">" "</span>;</div><div class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="计数排序"><a href="#计数排序" class="headerlink" title="计数排序"></a>计数排序</h3><p>在前面介绍的6中排序都有一个共同的特点：在排序的最终结果中，各元素的次序依赖于它们之间的比较。所以我们又把这类排序叫做比较排序。而计数排序和基数排序，以及接下来的桶排序则不是运用比较来确定排序顺序的。</p>
<h4 id="实现思路-6"><a href="#实现思路-6" class="headerlink" title="实现思路"></a>实现思路</h4><p>计数排序假设n个输入元素中的每一个都是在0到k区间的一个整数，其中k为某个整数。</p>
<p>对每一个输入元素x，确定小于x的元素个数。利用这一信息，就可以直接把x放到它在输出数组的位置上了。例如，如果有17个元素小于x，则x就应该放在第18个输出位置上。</p>
<h4 id="伪代码-2"><a href="#伪代码-2" class="headerlink" title="伪代码"></a>伪代码</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">COUNT-SORT(A, B, k)</div><div class="line">let C[<span class="number">0.</span>..k] be a <span class="keyword">new</span> <span class="built_in">array</span></div><div class="line"><span class="keyword">for</span> i = <span class="number">0</span> to k</div><div class="line">	C[i] = <span class="number">0</span></div><div class="line"><span class="keyword">for</span> j = <span class="number">1</span> to A.length</div><div class="line">	C[A[j]] = C[A[j]] + <span class="number">1</span></div><div class="line"><span class="keyword">for</span> i = <span class="number">1</span> to k</div><div class="line">	C[i] = C[i] + C[i - <span class="number">1</span>]</div><div class="line"><span class="keyword">for</span> j = A.length downto <span class="number">1</span></div><div class="line">	B[C[A[j]]] = A[j]</div><div class="line">	C[A[j]] = C[A[j]] - <span class="number">1</span></div></pre></td></tr></table></figure>
<p>由于代码中存在三个for循环，我个人喜欢叫它为三for排序</p>
<h4 id="代码实现-4"><a href="#代码实现-4" class="headerlink" title="代码实现"></a>代码实现</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">CountingSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> b[], <span class="keyword">int</span> k, <span class="keyword">int</span> arr_size)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> *c  = <span class="keyword">new</span> <span class="keyword">int</span>[k + <span class="number">1</span>]&#123;<span class="number">0</span>&#125;;</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; arr_size; j++)</div><div class="line">		c[a[j]]	 = c[a[j]] + <span class="number">1</span>;</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; i++)</div><div class="line">		c[i] = c[i] + c[i<span class="number">-1</span>];</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = arr_size - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--)</div><div class="line">	&#123;</div><div class="line">		b[c[a[j]]] = a[j];</div><div class="line">		c[a[j]]	= c[a[j]]<span class="number">-1</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">delete</span>[] c;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="基数排序"><a href="#基数排序" class="headerlink" title="基数排序"></a>基数排序</h3><p>基数排序是先按最低有效位进行排序的排序算法</p>
<h4 id="实现思路-7"><a href="#实现思路-7" class="headerlink" title="实现思路"></a>实现思路</h4><ol>
<li>从最低有效位进行排序，如下图的个位开始排序</li>
<li>个位排序完排十位，接下来是百位</li>
</ol>
<p>而每一个位的排序则用到了计数排序的思路</p>
<h4 id="图解-4"><a href="#图解-4" class="headerlink" title="图解"></a>图解</h4><p><img src="http://img.blog.csdn.net/20161020231105742" alt="基数排序"></p>
<h4 id="代码实现-5"><a href="#代码实现-5" class="headerlink" title="代码实现"></a>代码实现</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 假设n个d位的元素存放在数组A中，其中第一位是最低位，第d位是最高位</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">radixSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> b[], <span class="keyword">int</span> len, <span class="keyword">int</span> d)</span>	</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> *arrC = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>]; <span class="comment">//most 10 numbers;</span></div><div class="line">    </div><div class="line">    <span class="keyword">int</span> radix = <span class="number">1</span>; </div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= d; k ++) &#123;</div><div class="line">        <span class="comment">//using CountingSort for every bit;</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i ++)</div><div class="line">            arrC[i] = <span class="number">0</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i ++) &#123;</div><div class="line">            <span class="keyword">int</span> temp = (a[i]/radix) % <span class="number">10</span>; <span class="comment">//find every bit of a number</span></div><div class="line">            arrC[temp] = arrC[temp] + <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i ++)</div><div class="line">            arrC[i] = arrC[i] + arrC[i<span class="number">-1</span>];</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = len<span class="number">-1</span>; j &gt;= <span class="number">0</span>; j --) &#123;</div><div class="line">            <span class="keyword">int</span> temp = (a[j]/radix) % <span class="number">10</span>;</div><div class="line">            b[arrC[temp] - <span class="number">1</span>] = a[j];</div><div class="line">            arrC[temp] = arrC[temp] - <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        radix *= <span class="number">10</span>; <span class="comment">//another bit;</span></div><div class="line">        <span class="built_in">memcpy</span>(a, b, len * <span class="keyword">sizeof</span>(<span class="keyword">int</span>)); <span class="comment">//note this line;</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="桶排序"><a href="#桶排序" class="headerlink" title="桶排序"></a>桶排序</h3><p>这里利用链表存储数组元素</p>
<h4 id="实现思路-8"><a href="#实现思路-8" class="headerlink" title="实现思路"></a>实现思路</h4><ol>
<li>设置一个定量的数组当作空桶子。</li>
<li>寻访序列，并且把项目一个一个放到对应的桶子去。</li>
<li>对每个不是空的桶子进行排序。</li>
<li>从不是空的桶子里把项目再放回原来的序列中。</li>
</ol>
<h4 id="代码实现-6"><a href="#代码实现-6" class="headerlink" title="代码实现"></a>代码实现</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> BucketNode&#123;</div><div class="line">    <span class="keyword">double</span>        nValue;</div><div class="line">    BucketNode    *pNext;  </div><div class="line">&#125;Node;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">BucketSort_Link</span><span class="params">(<span class="keyword">double</span> arrA[], <span class="keyword">int</span> nLen)</span></span></div><div class="line">&#123;</div><div class="line">    Node *pBucket = <span class="keyword">new</span> Node[<span class="number">10</span>];</div><div class="line"></div><div class="line">    <span class="comment">//initial the bucket</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i ++) &#123;</div><div class="line">        pBucket[i].nValue = <span class="number">0.0</span>;</div><div class="line">        pBucket[i].pNext = <span class="literal">NULL</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nLen; i ++) &#123;</div><div class="line">        <span class="keyword">double</span> nTemp = arrA[i];</div><div class="line">        Node *pNode = <span class="keyword">new</span> Node();</div><div class="line">        pNode-&gt;nValue = nTemp;</div><div class="line">        pNode-&gt;pNext = <span class="literal">NULL</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> nKey = <span class="keyword">int</span>(arrA[i]*<span class="number">10</span>);</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (pBucket[nKey].pNext == <span class="literal">NULL</span>) &#123;</div><div class="line">            pBucket[nKey].pNext = pNode; <span class="comment">//每个桶的第一个位置不存数据</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            Node *p = &amp;pBucket[nKey]; <span class="comment">//p--&gt;q</span></div><div class="line">            Node *q = pBucket[nKey].pNext;</div><div class="line"></div><div class="line">            <span class="keyword">while</span> (q &amp;&amp; q-&gt;nValue &lt;= nTemp) &#123;</div><div class="line">                p = q;</div><div class="line">                q = q-&gt;pNext;</div><div class="line">            &#125;</div><div class="line">            </div><div class="line">            pNode-&gt;pNext = q;</div><div class="line">            p-&gt;pNext = pNode;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i ++) &#123;</div><div class="line">        Node *pTemp = pBucket[i].pNext;</div><div class="line">        <span class="keyword">while</span> (pTemp) &#123;</div><div class="line">            arrA[k ++] = pTemp-&gt;nValue;</div><div class="line">            pTemp = pTemp-&gt;pNext;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/16/C-structure-skiplist/" itemprop="url">
                  数据结构之跳表
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-15T22:22:26Z" content="2016-10-15">
              2016-10-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">programming</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/16/C-structure-skiplist/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/16/C-structure-skiplist/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="数据结构之跳表"><a href="#数据结构之跳表" class="headerlink" title="数据结构之跳表"></a>数据结构之跳表</h1><hr>
<h2 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h2><p>字典有一些形如<k, v="">的数对组成的集合，其中k是关键字，v是与关键字k对应的值</k,></p>
<p>常见的字典操作有</p>
<ul>
<li>确定字典是否为空</li>
<li>字典的数对个数</li>
<li>根据关键字查找数对</li>
<li>插入数对</li>
<li>删除指定关键字的数对</li>
</ul>
<p>生活中常用到字典这种结构，例如：我们读书的时候买的字典，里面每一个词都有相应的解释，而你查找的子相当于k，解释相当于v。当然字典有一对一的关系，也有一对多的关系。</p>
<h3 id="字典类"><a href="#字典类" class="headerlink" title="字典类"></a>字典类</h3><h4 id="字典的节点"><a href="#字典的节点" class="headerlink" title="字典的节点"></a>字典的节点</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 链表节点定义</span></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> E&gt;</div><div class="line"><span class="keyword">struct</span> pairNode</div><div class="line">&#123;</div><div class="line">	pair&lt;<span class="keyword">const</span> K, E&gt; element;</div><div class="line">	pairNode&lt;K, E&gt;* next;</div><div class="line"></div><div class="line">	pairNode() &#123;&#125;</div><div class="line">	pairNode(<span class="keyword">const</span> pair&lt;<span class="keyword">const</span> K, E&gt;&amp; element) : element(element)</div><div class="line">	&#123;</div><div class="line"></div><div class="line">	&#125;</div><div class="line">	pairNode(<span class="keyword">const</span> pair&lt;<span class="keyword">const</span> K, E&gt;&amp; element, pairNode&lt;K, E&gt;* next)</div><div class="line">		: element(element)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">this</span>-&gt;next = next;</div><div class="line">	&#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h4 id="字典类-1"><a href="#字典类-1" class="headerlink" title="字典类"></a>字典类</h4><p>这里主要实现上述的操作<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> E&gt;</div><div class="line"><span class="keyword">class</span> sortedChain</div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	sortedChain();</div><div class="line">	~sortedChain();</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">emtpy</span><span class="params">()</span> <span class="keyword">const</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> dSize == <span class="number">0</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> dSize;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	pair&lt;<span class="keyword">const</span> K, E&gt;* find(<span class="keyword">const</span> K&amp;) <span class="keyword">const</span>;		<span class="comment">// 查找操作, 如果找到返回指针，否则返回NULL</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">erase</span><span class="params">(<span class="keyword">const</span> K&amp;)</span></span>;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">const</span> pair&lt;<span class="keyword">const</span> K, E&gt;&amp;)</span></span>;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(ostream&amp; out)</span> <span class="keyword">const</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">	pairNode&lt;K, E&gt;* firstNode; </div><div class="line">	<span class="keyword">int</span> dSize;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h4 id="字典类的实现"><a href="#字典类的实现" class="headerlink" title="字典类的实现"></a>字典类的实现</h4><h5 id="find"><a href="#find" class="headerlink" title="find()"></a>find()</h5><p>只需要一次遍历，判断<code>currentNode-&gt;element.first</code> 和 <code>theKey</code> 是否相等</p>
<h5 id="insert"><a href="#insert" class="headerlink" title="insert()"></a>insert()</h5><p>插入的时候首先通过查找操作来确定字典中是否存在相同关键字的数对，如果有，则更新（因为是一对一的字典）<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> E&gt;</div><div class="line"><span class="keyword">void</span> sortedChain&lt;K, E&gt;::insert(<span class="keyword">const</span> pair&lt;<span class="keyword">const</span> K, E&gt;&amp; thePair)</div><div class="line">&#123;</div><div class="line">	pairNode&lt;K, E&gt;* p = firstNode, *tmp = <span class="literal">NULL</span>;</div><div class="line">	<span class="comment">// 遍历链表</span></div><div class="line">	<span class="keyword">while</span>(p != <span class="literal">NULL</span> &amp;&amp; p-&gt;element.first &lt; thePair.first)</div><div class="line">	&#123;</div><div class="line">		tmp = p;</div><div class="line">		p = p-&gt;next;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// 如果存在相同的key值，更新</span></div><div class="line">	<span class="keyword">if</span>(p != <span class="literal">NULL</span> &amp;&amp; p-&gt;element.first == thePair.first)</div><div class="line">	&#123;</div><div class="line">		p-&gt;element.second = thePair.second;</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// 插入</span></div><div class="line">	pairNode&lt;K, E&gt;* newNode = <span class="keyword">new</span> pairNode&lt;K,E&gt;(thePair, p);</div><div class="line">	<span class="keyword">if</span>(tmp == <span class="literal">NULL</span>)</div><div class="line">		firstNode = newNode;</div><div class="line">	<span class="keyword">else</span></div><div class="line">		tmp-&gt;next = newNode;</div><div class="line">	dSize++;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h5 id="erase"><a href="#erase" class="headerlink" title="erase()"></a>erase()</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> E&gt;</div><div class="line"><span class="keyword">void</span> sortedChain&lt;K, E&gt;::erase(<span class="keyword">const</span> K&amp; theKey)</div><div class="line">&#123;</div><div class="line">	pairNode&lt;K, E&gt;* p = firstNode, *tmp = <span class="literal">NULL</span>;</div><div class="line"></div><div class="line">	<span class="keyword">while</span>(p != <span class="literal">NULL</span> &amp;&amp; p-&gt;element.first &lt; theKey)</div><div class="line">	&#123;</div><div class="line">		tmp = p;</div><div class="line">		p = p-&gt;next;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(p != <span class="literal">NULL</span> &amp;&amp; p-&gt;element.first == theKey)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(tmp == <span class="literal">NULL</span>)		<span class="comment">// 这种情况的出现是因为while循环没有执行，之所以不执行是因为, 要没删除的theKey是第一个</span></div><div class="line">			firstNode = p-&gt;next;</div><div class="line">		<span class="keyword">else</span></div><div class="line">			tmp-&gt;next = p-&gt;next;</div><div class="line">		<span class="comment">// 删除p（thekey所在位置）</span></div><div class="line">		<span class="keyword">delete</span> p;</div><div class="line">		--dSize;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="跳表"><a href="#跳表" class="headerlink" title="跳表"></a>跳表</h2><h3 id="构建思路"><a href="#构建思路" class="headerlink" title="构建思路"></a>构建思路</h3><p>当我们在进行链表查找，删除，添加的时候，要进行n次的比较，如果链表的中间有一个指针，那么我们的这些操作次数可以减少一半。</p>
<h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>增加额外的向前指针的链表叫做跳表，因此它会比普通的链表复杂一点。跳表结构的头结点需要足够的指针域，以满足最大链表级数的构建需要，而尾节点不需要指针域。</p>
<p>如下图的结构我们叫做跳表，在该结构中有一组等级链表，0级链表包括所有数对，1级链表每2个节点取一个，2级链表每4个取一个</p>
<p><img src="http://img.blog.csdn.net/20161016162603694" alt="跳表"></p>
<h3 id="跳表类"><a href="#跳表类" class="headerlink" title="跳表类"></a>跳表类</h3><h5 id="节点"><a href="#节点" class="headerlink" title="节点"></a>节点</h5><p>与字典节点结构有点不同，next指针变为指针数组，即指针域<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> E&gt;</div><div class="line"><span class="keyword">struct</span> skipNode</div><div class="line">&#123;</div><div class="line">	<span class="keyword">typedef</span> pair&lt;<span class="keyword">const</span> K, E&gt; pairType;</div><div class="line"></div><div class="line">	pairType element;</div><div class="line">	skipNode&lt;K, E&gt;** next;		<span class="comment">// 指针数组</span></div><div class="line"></div><div class="line">	skipNode(<span class="keyword">const</span> pairType&amp; thePair, <span class="keyword">int</span> size) : element(thePair)</div><div class="line">	&#123;</div><div class="line">		next = <span class="keyword">new</span> skipNode&lt;K, E&gt;*[size];</div><div class="line">	&#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>跳表类<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> E&gt;</div><div class="line"><span class="keyword">class</span> SkipList</div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	SkipList(K largeKey, <span class="keyword">int</span> maxPairs, <span class="keyword">float</span> prob);</div><div class="line">	~SkipList();</div><div class="line"></div><div class="line">	<span class="comment">// find, 如果找到返回指针，没有返回NULL</span></div><div class="line">	pair&lt;<span class="keyword">const</span> K, E&gt;* find(<span class="keyword">const</span> K&amp; theKey) <span class="keyword">const</span>;</div><div class="line">	<span class="comment">// level，级的分配</span></div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">level</span><span class="params">()</span> <span class="keyword">const</span></span>;</div><div class="line">	<span class="comment">// search，搜索</span></div><div class="line">	skipNode&lt;K,E&gt;* search(<span class="keyword">const</span> K&amp; theKey) <span class="keyword">const</span>;</div><div class="line">	<span class="comment">// insert， 插入操作</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">const</span> pair&lt;<span class="keyword">const</span> K, E&gt;&amp; thePair)</span></span>;</div><div class="line">	<span class="comment">// erase，删除操作</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">erase</span><span class="params">(<span class="keyword">const</span> K&amp; theKey)</span></span>;</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">	<span class="keyword">float</span> cutOff;				<span class="comment">// 用来确定层数</span></div><div class="line">	<span class="keyword">int</span> levels;					<span class="comment">// 当前最大的非空链对</span></div><div class="line">	<span class="keyword">int</span> dSize;					<span class="comment">// 字典的数对个数</span></div><div class="line">	<span class="keyword">int</span> maxLevel;				<span class="comment">// 允许的最大链表层数</span></div><div class="line">	K tailKey;					<span class="comment">// 最大关键字</span></div><div class="line">	skipNode&lt;K, E&gt;* headerNode;	<span class="comment">// 头结点指针</span></div><div class="line">	skipNode&lt;K, E&gt;* tailNode;	<span class="comment">// 尾节点指针</span></div><div class="line">	skipNode&lt;K, E&gt;** last;		<span class="comment">// last[i] 表示i层的最后节点</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h4 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h4><h4 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h4><h4 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h4><p>例如，如果我们要查找关键字为30的节点，find从最高级链表开始查找，知道0级链表。在每一级链表中采用逼近的方法，直到0级链表，图解如下：<br><img src="http://img.blog.csdn.net/20161016180055800" alt="跳表查找"></p>
<p>部分代码<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> E&gt;</div><div class="line">pair&lt;<span class="keyword">const</span> K, E&gt;* SkipList&lt;K,E&gt;::find(<span class="keyword">const</span> K&amp; theKey) <span class="keyword">const</span></div><div class="line">&#123;</div><div class="line">	<span class="comment">// 返回匹配的数对的指针</span></div><div class="line">	<span class="comment">// 如果关键字大于最大关键字，返回NULL</span></div><div class="line">	<span class="keyword">if</span>(theKey &gt;= tailKey)</div><div class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;</div><div class="line"></div><div class="line">	<span class="comment">// 位置beforeNode是关键字为theKey的节点之最右边的位置</span></div><div class="line">	skipNode&lt;K,E&gt;* beforeNode = headerNode;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = levels; i &gt;= <span class="number">0</span>; i--)</div><div class="line">		<span class="keyword">while</span>(beforeNode-&gt;next[i]-&gt;element.first &lt; theKey)</div><div class="line">			beforeNode = beforeNode-&gt;next[i];</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(beforeNode-&gt;next[<span class="number">0</span>]-&gt;element.first == theKey)</div><div class="line">		<span class="keyword">return</span> &amp;beforeNode-&gt;next[<span class="number">0</span>]-&gt;element;</div><div class="line"></div><div class="line">	<span class="keyword">return</span> <span class="literal">NULL</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* 跳表实现 */</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _SKIPLIST_H_</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> _SKIPLIST_H_</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span>	<span class="comment">// RAND_MAX</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span>	<span class="comment">// ceil()</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;new&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> E&gt;</div><div class="line"><span class="keyword">struct</span> skipNode</div><div class="line">&#123;</div><div class="line">	<span class="keyword">typedef</span> pair&lt;<span class="keyword">const</span> K, E&gt; pairType;</div><div class="line"></div><div class="line">	pairType element;</div><div class="line">	skipNode&lt;K, E&gt;** next;</div><div class="line"></div><div class="line">	skipNode() &#123;&#125;</div><div class="line"></div><div class="line">	skipNode(<span class="keyword">const</span> pairType&amp; thePair, <span class="keyword">int</span> size) : element(thePair)</div><div class="line">	&#123;</div><div class="line">		next = <span class="keyword">new</span> skipNode&lt;K, E&gt;* [size];</div><div class="line">	&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> E&gt;</div><div class="line"><span class="keyword">class</span> SkipList</div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	SkipList() &#123;&#125;</div><div class="line">	SkipList(K largeKey, <span class="keyword">int</span> maxPairs, <span class="keyword">float</span> prob);</div><div class="line">	~SkipList();</div><div class="line"></div><div class="line">	<span class="comment">// find, 如果找到返回指针，没有返回NULL</span></div><div class="line">	pair&lt;<span class="keyword">const</span> K, E&gt;* find(<span class="keyword">const</span> K&amp; theKey) <span class="keyword">const</span>;</div><div class="line">	<span class="comment">// level，级的分配</span></div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">level</span><span class="params">()</span> <span class="keyword">const</span></span>;</div><div class="line">	<span class="comment">// search，搜索</span></div><div class="line">	skipNode&lt;K,E&gt;* search(<span class="keyword">const</span> K&amp; theKey) <span class="keyword">const</span>;</div><div class="line">	<span class="comment">// insert， 插入操作</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">const</span> pair&lt;<span class="keyword">const</span> K, E&gt;&amp; thePair)</span></span>;</div><div class="line">	<span class="comment">// erase，删除操作</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">erase</span><span class="params">(<span class="keyword">const</span> K&amp; theKey)</span></span>;</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">	<span class="keyword">float</span> cutOff;				<span class="comment">// 用来确定层数</span></div><div class="line">	<span class="keyword">int</span> levels;					<span class="comment">// 当前最大的非空链对</span></div><div class="line">	<span class="keyword">int</span> dSize;					<span class="comment">// 字典的数对个数</span></div><div class="line">	<span class="keyword">int</span> maxLevel;				<span class="comment">// 允许的最大链表层数</span></div><div class="line">	K tailKey;					<span class="comment">// 最大关键字</span></div><div class="line">	skipNode&lt;K, E&gt;* headerNode;	<span class="comment">// 头结点指针</span></div><div class="line">	skipNode&lt;K, E&gt;* tailNode;	<span class="comment">// 尾节点指针</span></div><div class="line">	skipNode&lt;K, E&gt;** last;		<span class="comment">// last[i] 表示i层的最后节点</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> E&gt;</div><div class="line">SkipList&lt;K, E&gt;::SkipList(K largeKey, <span class="keyword">int</span> maxPairs, <span class="keyword">float</span> prob)</div><div class="line">&#123;</div><div class="line">	<span class="comment">// 构造函数，关键字小于largeKey且数对个数size最多为maxPairs, 0 &lt; prob &lt; 1;</span></div><div class="line">	cutOff = prob * RAND_MAX;</div><div class="line">	maxLevel = (<span class="keyword">int</span>)<span class="built_in">ceil</span>(logf((<span class="keyword">float</span>)maxPairs) / logf(<span class="number">1</span> / prob)) - <span class="number">1</span>;	<span class="comment">// 向上取整</span></div><div class="line">	levels = <span class="number">0</span>;</div><div class="line">	dSize = <span class="number">0</span>;</div><div class="line">	tailKey = largeKey;</div><div class="line"></div><div class="line">	<span class="comment">// 生产头结点，尾节点和数组last</span></div><div class="line">	pair&lt;K,E&gt; tailPair;</div><div class="line">	tailPair.first = tailKey;</div><div class="line">	headerNode = <span class="keyword">new</span> skipNode&lt;K, E&gt; (tailPair, maxLevel + <span class="number">1</span>);</div><div class="line">	tailNode = <span class="keyword">new</span> skipNode&lt;K, E&gt; (tailPair, <span class="number">0</span>);</div><div class="line">	last = <span class="keyword">new</span> skipNode&lt;K, E&gt;*[maxLevel + <span class="number">1</span>];</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= maxLevel; i++)</div><div class="line">		headerNode-&gt;next[i] = tailNode;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> E&gt;</div><div class="line">SkipList&lt;K,E&gt;::~SkipList()</div><div class="line">&#123;</div><div class="line">	<span class="comment">// Empty</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> E&gt;</div><div class="line">pair&lt;<span class="keyword">const</span> K, E&gt;* SkipList&lt;K,E&gt;::find(<span class="keyword">const</span> K&amp; theKey) <span class="keyword">const</span></div><div class="line">&#123;</div><div class="line">	<span class="comment">// 返回匹配的数对的指针</span></div><div class="line">	<span class="comment">// 如果关键字大于最大关键字，返回NULL</span></div><div class="line">	<span class="keyword">if</span>(theKey &gt;= tailKey)</div><div class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;</div><div class="line"></div><div class="line">	<span class="comment">// 位置beforeNode是关键字为theKey的节点之最右边的位置</span></div><div class="line">	skipNode&lt;K,E&gt;* beforeNode = headerNode;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = levels; i &gt;= <span class="number">0</span>; i--)</div><div class="line">		<span class="keyword">while</span>(beforeNode-&gt;next[i]-&gt;element.first &lt; theKey)</div><div class="line">			beforeNode = beforeNode-&gt;next[i];</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(beforeNode-&gt;next[<span class="number">0</span>]-&gt;element.first == theKey)</div><div class="line">		<span class="keyword">return</span> &amp;beforeNode-&gt;next[<span class="number">0</span>]-&gt;element;</div><div class="line"></div><div class="line">	<span class="keyword">return</span> <span class="literal">NULL</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> E&gt;</div><div class="line"><span class="keyword">int</span> SkipList&lt;K,E&gt;::level() <span class="keyword">const</span></div><div class="line">&#123;</div><div class="line">	<span class="comment">// 返回一个表示链表级的随机数，这个数不大于maxLevel</span></div><div class="line">	<span class="keyword">int</span> lev = <span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span>(rand() &lt;= cutOff)</div><div class="line">		lev++;</div><div class="line">	<span class="keyword">return</span> (lev &lt;= maxLevel) ? lev : maxLevel;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> E&gt;</div><div class="line">skipNode&lt;K, E&gt;* SkipList&lt;K, E&gt;::search(<span class="keyword">const</span> K&amp; theKey) <span class="keyword">const</span></div><div class="line">&#123;</div><div class="line">	<span class="comment">// 返回beforeNode时关键字</span></div><div class="line">	skipNode&lt;K, E&gt;* beforeNode = headerNode;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = levels; i &gt;= <span class="number">0</span>; i--)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">while</span>(beforeNode-&gt;next[i]-&gt;element.first &lt; theKey)</div><div class="line">			beforeNode = beforeNode-&gt;next[i];</div><div class="line">		last[i] = beforeNode;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> beforeNode-&gt;next[<span class="number">0</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> E&gt;</div><div class="line"><span class="keyword">void</span> SkipList&lt;K,E&gt;::insert(<span class="keyword">const</span> pair&lt;<span class="keyword">const</span> K, E&gt;&amp; thePair)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(thePair.first &gt;= tailKey)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Key = "</span> &lt;&lt; thePair.first &lt;&lt; <span class="string">" must be &lt; "</span> &lt;&lt; tailKey;</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// 查看关键字是否已经存在</span></div><div class="line">	skipNode&lt;K, E&gt;* theNode = search(thePair.first);</div><div class="line">	<span class="keyword">if</span>(theNode-&gt;element.first == thePair.first)</div><div class="line">	&#123;</div><div class="line">		theNode-&gt;element.second = thePair.second;</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// 若不存在, 确定所在链级数</span></div><div class="line">	<span class="keyword">int</span> theLevel = level();</div><div class="line">	<span class="keyword">if</span>(theLevel &gt; levels)</div><div class="line">	&#123;</div><div class="line">		theLevel = ++levels;</div><div class="line">		last[theLevel] = headerNode;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// 再借点theNode 之后插入新节点</span></div><div class="line">	skipNode&lt;K, E&gt;* newNode = <span class="keyword">new</span> skipNode&lt;K, E&gt;(thePair, theLevel + <span class="number">1</span>);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; theLevel; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="comment">// 插入i级链表</span></div><div class="line">		newNode-&gt;next[i] = last[i]-&gt;next[i];</div><div class="line">		last[i]-&gt;next[i] = newNode;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	dSize++;	</div><div class="line">	<span class="keyword">return</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> E&gt;</div><div class="line"><span class="keyword">void</span> SkipList&lt;K,E&gt;::erase(<span class="keyword">const</span> K&amp; theKey)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(theKey &gt;= tailKey)</div><div class="line">		<span class="keyword">return</span>;</div><div class="line"></div><div class="line">	<span class="comment">//查看是否有匹配的数对</span></div><div class="line">	skipNode&lt;K,E&gt;* theNode = search(theKey);</div><div class="line">	<span class="keyword">if</span>(theNode-&gt;element.first != theKey)</div><div class="line">		<span class="keyword">return</span>;</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= levels &amp;&amp; last[i]-&gt;next[i] == theNode; i++)</div><div class="line">		last[i]-&gt;next[i] = theNode-&gt;next[i];</div><div class="line"></div><div class="line">	<span class="keyword">while</span>(levels &gt; <span class="number">0</span> &amp;&amp; headerNode-&gt;next[levels] == tailNode)</div><div class="line">		levels--;</div><div class="line"></div><div class="line">	<span class="keyword">delete</span> theNode;</div><div class="line">	dSize--;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// !_SKIPLIST_H_</span></span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/12/C-typedef-and-typename/" itemprop="url">
                  C++ typedef和typename关键字
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-12T12:41:52Z" content="2016-10-12">
              2016-10-12
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">programming</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/12/C-typedef-and-typename/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/12/C-typedef-and-typename/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="C-typedef和typename关键字"><a href="#C-typedef和typename关键字" class="headerlink" title="C++ typedef和typename关键字"></a>C++ typedef和typename关键字</h1><hr>
<h2 id="前序"><a href="#前序" class="headerlink" title="前序"></a>前序</h2><p>在《STL源码解析》一书中看到了这样一段代码<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> ForwardIterator, <span class="keyword">class</span> Size, <span class="keyword">class</span> T, <span class="keyword">class</span> T1&gt;</div><div class="line"><span class="keyword">inline</span> ForwardIterator <span class="number">__u</span>ninitialized_fill_n(ForwardIterator first, Size n, <span class="keyword">const</span> T&amp; x, T1*)&#123;</div><div class="line">	<span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="number">__</span>type_traits&lt;T1&gt;::is_POD_type is_POD;</div><div class="line">	<span class="keyword">return</span> <span class="number">__u</span>ninitialized_fill_n_aux(first, n, x, is_POD());</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在代码的第三行中出现的</p>
<pre><code>typedef typename __type_traits&lt;T1&gt;::is_POD_type is_POD;
</code></pre><p>可能会让初学者感到无法理解，难以接受。这里的typedef 还好理解，但是typename又是啥鬼?:tw-1f62c:<br>在《C++Primer 5th》P593页和《Effective C++》第42条都讲解了这部分内容，我也总结了下给大家，方便大家解惑。</p>
<h2 id="类型别名typedef"><a href="#类型别名typedef" class="headerlink" title="类型别名typedef"></a>类型别名typedef</h2><p>类型说明的格式为:</p>
<font color="#FF0000">typedef  类型 定义名;</font>

<p>它用来对一个数据类型取一个新名字。其中定义名表示这个类型的新名字。</p>
<p>例如:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> type_int;	</div><div class="line"><span class="comment">// 这里的type_int就是整形int的另一个名字，接下来可以用type_int代替int</span></div></pre></td></tr></table></figure></p>
<h2 id="类型解释typename"><a href="#类型解释typename" class="headerlink" title="类型解释typename"></a>类型解释typename</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>在维基百科中这样解释：<br>当用于泛型编程时是另一术语”class”的同义词。这个关键字用于指出模板声明（或定义）中的非独立名称（dependent names）是类型名，而非变量名。</p>
<p>例如声明一个人的模板类<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">class</span> Person</div><div class="line">&#123;</div><div class="line">	<span class="comment">// .... </span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// 或者</span></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div><div class="line"><span class="keyword">class</span> Person</div><div class="line">&#123;</div><div class="line">	</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="使用类的类型成员"><a href="#使用类的类型成员" class="headerlink" title="使用类的类型成员"></a>使用类的类型成员</h3><p>通常我们使用作用域运算符(::)来访问static成员和类型成员。在普通（非模板）代码中，编译器掌握类的定义。因此，他知道通过作用域运算符访问的名字是类型还是static成员。例如：string::size_type,编译器有string的定义，从而知道size_type是一个类型。</p>
<p>但是如果是模板类就变得很困难了。</p>
<p>例如：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> C&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">print2nd</span><span class="params">(<span class="keyword">const</span> C&amp; contrainer)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="comment">// ...</span></div><div class="line">	C::const_iterator* x;			<span class="comment">// 申明x为一个指针，指向C::const_iterator</span></div><div class="line">	<span class="comment">// ...</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>这段代码看起来好像是对，但是它确实是错的，回到之前我们之所以认为它对，是因为我们“知道”C::const_iterator是一个类型，但是如果C::const_iterator不是一个类型呢，如果它是一个static成员变量呢？又或者是一个全局变量呢？那么上述的用法就变为相乘了。</p>
<p>因此有必要说明C::const_iterator是一个类型。只要在紧邻它之前放置关键字typename即可<br>例如<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> C&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">print2nd</span><span class="params">(<span class="keyword">const</span> C&amp; contrainer)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="comment">// ...</span></div><div class="line">	<span class="keyword">typename</span> C::const_iterator* x;			<span class="comment">// 申明x为一个指针，指向C::const_iterator</span></div><div class="line">	<span class="comment">// ...</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<font color="#ff0000"> 这个规则很简单：在任何时候当你想在template中涉及一个嵌套从属类型名称，就必须在紧临它的前一个位置放置上关键字typename（也有例外）</font>


<hr>
<p><font color="#0099ff" size="4">“typename作为嵌套从属类型名称的前缀词”的例外</font><br>template 不可以出现在base classes list内的嵌套从属类型名称之前，也不可以出现在memeber initialization list(成员初始列表)中作为base class 修饰词, 例如：<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">template &lt;typename T&gt;</div><div class="line">class Derived : public Base&lt;T&gt;::Nested	//  Base classes list，不允许出现"typename"</div><div class="line">&#123;</div><div class="line">public:</div><div class="line">	explicit Derived(int x) : </div><div class="line">	Base&lt;T&gt;::Nested(x)				// 成员初始化列表，不允许出现"typename"</div><div class="line">	&#123;		</div><div class="line">		typename Base&lt;T&gt;::Nested temp;				// 嵌套从属类型名称</div><div class="line">	&#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h2 id="typedef和typename共用"><a href="#typedef和typename共用" class="headerlink" title="typedef和typename共用"></a>typedef和typename共用</h2><p>回到最初的问题，这里我们用另外一个例子代替</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> IterT&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">workWithIterator</span><span class="params">(IterT iter)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">typename</span> <span class="built_in">std</span>::iterator_traits&lt;IterT&gt;::<span class="function">value_type <span class="title">temp</span><span class="params">(*iter)</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>看起来任然可能有点蒙, 所以先讲下traits</p>
<h3 id="traits（特性萃取机）"><a href="#traits（特性萃取机）" class="headerlink" title="traits（特性萃取机）"></a>traits（特性萃取机）</h3><p>在我们日常中，常用到的迭代器相应型别有5中：value_type, difference_type, pointer, reference, iterator catagoly。而“特性萃取机”traits会忠实的原汁原味的榨取出来:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> I&gt;</div><div class="line"><span class="keyword">struct</span> iterator_traits&#123;</div><div class="line">	<span class="keyword">typedef</span> <span class="keyword">typename</span> I::iterator_category 	  iterator_category;</div><div class="line">	<span class="keyword">typedef</span> <span class="keyword">typename</span> I::value_type 				value_type;</div><div class="line">	<span class="keyword">typedef</span> <span class="keyword">typename</span> I::difference_type 		difference_type;</div><div class="line">	<span class="keyword">typedef</span> <span class="keyword">typename</span> I::pointer 					 pointer;</div><div class="line">	<span class="keyword">typedef</span> <span class="keyword">typename</span> I::reference 				  reference;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>而<code>std::iterator_traits&lt;IterT&gt;::value_type</code>说的就是”类型为IterT之对象所指之物的类型”<br>如果你的IterT为<code>vector&lt;int&gt;::iterator</code>，temp的类型就是int，<br>如果你的IterT为<code>list&lt;sting&gt;::iterator</code>，temp的类型就是string</p>
<p>说完上面哪行代码就解释的通了<br><code>std::iterator_traits&lt;IterT&gt;::value_type</code>是一个嵌套从属类型名（value_type被嵌套与<code>iterator_traits&lt;IterT&gt;</code>之内而IterT是一个template参数），所以必须在它之前放置typename</p>
<p>而为了简化书写，加上typedef，完美:tw-1f604:<br>最终代码<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> IterT&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">workWithIterator</span><span class="params">(IterT iter)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="built_in">std</span>::iterator_traits&lt;IterT&gt;::value_type;</div><div class="line">	<span class="function">value_type <span class="title">temp</span><span class="params">(*iter)</span></span>;</div><div class="line">	<span class="comment">// .....</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/10/c-structure-stack-array-chain/" itemprop="url">
                  数据结构之栈
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-09T17:42:23Z" content="2016-10-09">
              2016-10-09
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">programming</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/10/c-structure-stack-array-chain/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/10/c-structure-stack-array-chain/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h2><p>栈是一种特殊的线性表，其插入（又称入栈或压栈）和删除（又称出栈或弹栈）操作都在表的一端进行。表的两头称为栈顶和栈底</p>
<p><em>例如：栈的删除操作中，删除D元素</em></p>
<p><img src="http://img.blog.csdn.net/20161009163230725" alt="栈的删除"></p>
<h2 id="递归工作栈"><a href="#递归工作栈" class="headerlink" title="递归工作栈"></a>递归工作栈</h2><p>我们常常会用到递归函数，而计算机执行递归就是使用递归工作栈。<br>当一个函数被调用时，一个返回地址和被调函数的局部变量和形参的值都要存储在递归工作栈中。因此随着递归的不断调用，最先被执行的操作存储在栈的最底部，最后的操作存储在栈的顶部。当执行到递归结束点（递归出口）的时候，开始从顶部自上往下返回存储的数据。</p>
<font color="#ff0000"><br>注：递归次数过多容易造成栈溢出，所以一般不提倡用递归算法设计程序<br></font>

<h2 id="栈的简单操作"><a href="#栈的简单操作" class="headerlink" title="栈的简单操作"></a>栈的简单操作</h2><p>因为栈是一种特殊的线性表，所以它同线性表一样具有数组描述形式和链表描述形式</p>
<h4 id="数组描述"><a href="#数组描述" class="headerlink" title="数组描述"></a>数组描述</h4><p>创建arrayStack类<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ARRAYSTACK_H</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> ARRAYSTACK_H</span></div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">class</span> <span class="built_in">stack</span></div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	<span class="keyword">virtual</span> ~<span class="built_in">stack</span>() &#123;&#125;;</div><div class="line">	<span class="function"><span class="keyword">virtual</span> <span class="keyword">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="keyword">const</span> </span>= <span class="number">0</span>;</div><div class="line">		<span class="comment">// 返回true, 当且仅当栈为空</span></div><div class="line">	<span class="function"><span class="keyword">virtual</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> </span>= <span class="number">0</span>;</div><div class="line">		<span class="comment">// 返回栈中的元素</span></div><div class="line">	<span class="function"><span class="keyword">virtual</span> T&amp; <span class="title">top</span><span class="params">()</span> </span>= <span class="number">0</span>;</div><div class="line">		<span class="comment">// 返回栈顶元素的索引</span></div><div class="line">	<span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> </span>= <span class="number">0</span>;</div><div class="line">		<span class="comment">// 删除栈顶元素</span></div><div class="line">	<span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">const</span> T&amp; theElement)</span> </span>= <span class="number">0</span>;</div><div class="line">		<span class="comment">// 将元素theElement压入栈</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">class</span> arrayStack : <span class="keyword">public</span> <span class="built_in">stack</span>&lt;T&gt;</div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	arrayStack(<span class="keyword">int</span> InitialCapacity = <span class="number">10</span>);</div><div class="line">	~arrayStack() &#123; <span class="keyword">delete</span> [] <span class="built_in">stack</span>; &#125;</div><div class="line"></div><div class="line">	<span class="comment">// 实现stack</span></div><div class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="keyword">const</span> </span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> stackTop == <span class="number">-1</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> </span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> stackTop + <span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function">T&amp; <span class="title">top</span><span class="params">()</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(stackTop == <span class="number">-1</span>)</div><div class="line">			<span class="keyword">throw</span> <span class="string">"The stack is empty"</span>;</div><div class="line"></div><div class="line">		<span class="keyword">return</span> <span class="built_in">stack</span>[stackTop];</div><div class="line">	&#125; </div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(stackTop == <span class="number">-1</span>)</div><div class="line">			<span class="keyword">throw</span> <span class="string">"The stack is emtpy"</span>;</div><div class="line"></div><div class="line">		<span class="built_in">stack</span>[stackTop--].~T();	<span class="comment">// T的析构函数</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">const</span> T&amp; theElement)</span></span>; </div><div class="line">	<span class="comment">// 改变容器大小（翻倍）</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">changeLengthlD</span><span class="params">(T* &amp;a, <span class="keyword">int</span> oldLength, <span class="keyword">int</span> newLength)</span></span>;</div><div class="line">	<span class="comment">// 输出全部元素</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">	<span class="keyword">int</span> stackTop;			<span class="comment">// 当前栈顶</span></div><div class="line">	<span class="keyword">int</span> arrayLength;		<span class="comment">// 数组长度（栈容量）</span></div><div class="line">	T* <span class="built_in">stack</span>;			 <span class="comment">// 元素数组</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line">arrayStack&lt;T&gt;::arrayStack(<span class="keyword">int</span> InitialCapacity)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(InitialCapacity &lt; <span class="number">1</span>)</div><div class="line">		InitialCapacity = <span class="number">10</span>;</div><div class="line"></div><div class="line">	arrayLength = InitialCapacity;</div><div class="line">	<span class="built_in">stack</span> = <span class="keyword">new</span> T[InitialCapacity];</div><div class="line">	stackTop = <span class="number">-1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">void</span> arrayStack&lt;T&gt;::push(<span class="keyword">const</span> T&amp; theElement)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(stackTop == arrayLength <span class="number">-1</span>)</div><div class="line">	&#123;</div><div class="line">		changeLengthlD(<span class="built_in">stack</span>, arrayLength, <span class="number">2</span> * arrayLength);</div><div class="line">		arrayLength *= <span class="number">2</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="built_in">stack</span>[++stackTop] = theElement;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">void</span> arrayStack&lt;T&gt;::changeLengthlD(T* &amp;a, <span class="keyword">int</span> oldLength, <span class="keyword">int</span> newLength)</div><div class="line">&#123;</div><div class="line">	T* temp = <span class="keyword">new</span> T[oldLength];</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; oldLength; i++)</div><div class="line">		temp[i] = a[i];</div><div class="line"></div><div class="line">	<span class="keyword">delete</span>[] a;</div><div class="line">	a = <span class="keyword">new</span> T[newLength];</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; oldLength; i++)</div><div class="line">		a[i] = temp[i];</div><div class="line"></div><div class="line">	<span class="keyword">delete</span>[] temp;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">void</span> arrayStack&lt;T&gt;::output()</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(stackTop == <span class="number">-1</span>)</div><div class="line">		<span class="keyword">throw</span> <span class="string">"The array is emtpy"</span>;</div><div class="line"></div><div class="line">	<span class="keyword">int</span> a = stackTop;</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(;a &gt;= <span class="number">0</span>; a--)</div><div class="line">		<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">stack</span>[a] &lt;&lt; <span class="string">" "</span>;</div><div class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// !ARRAYSTACK_H</span></span></div></pre></td></tr></table></figure></p>
<h4 id="链表描述"><a href="#链表描述" class="headerlink" title="链表描述"></a>链表描述</h4><p>用节点存储元素可能会有点麻烦，如果你直接存储的是一个链表的头结点（栈底），那么你要得到链表的尾节点（栈顶），都要循环遍历一次。如果你存储的是一个链表的尾节点，那么会方便许多。当然也有人会问当删除操作的时候，怎么将指针指向前一个呢？</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> LINKEDSTACK_H</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> LINKEDSTACK_H</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="comment">// 节点结构</span></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">struct</span> chainNode</div><div class="line">&#123;</div><div class="line">	T element;</div><div class="line">	chainNode&lt;T&gt; *next;</div><div class="line"></div><div class="line">	chainNode() &#123;&#125;</div><div class="line">	chainNode(<span class="keyword">const</span> T&amp; element)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">this</span>-&gt;element = element;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	chainNode(<span class="keyword">const</span> T&amp; element, chainNode&lt;T&gt;* next)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">this</span>-&gt;element = element;</div><div class="line">		<span class="keyword">this</span>-&gt;next = next;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">class</span> <span class="built_in">stack</span></div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	<span class="keyword">virtual</span> ~<span class="built_in">stack</span>() &#123;&#125;;</div><div class="line">	<span class="function"><span class="keyword">virtual</span> <span class="keyword">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="keyword">const</span> </span>= <span class="number">0</span>;</div><div class="line">		<span class="comment">// 返回true, 当且仅当栈为空</span></div><div class="line">	<span class="function"><span class="keyword">virtual</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> </span>= <span class="number">0</span>;</div><div class="line">		<span class="comment">// 返回栈中的元素</span></div><div class="line">	<span class="function"><span class="keyword">virtual</span> T&amp; <span class="title">top</span><span class="params">()</span> </span>= <span class="number">0</span>;</div><div class="line">		<span class="comment">// 返回栈顶元素的索引</span></div><div class="line">	<span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> </span>= <span class="number">0</span>;</div><div class="line">		<span class="comment">// 删除栈顶元素</span></div><div class="line">	<span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">const</span> T&amp; theElement)</span> </span>= <span class="number">0</span>;</div><div class="line">		<span class="comment">// 将元素theElement压入栈</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">class</span> linkedStack : <span class="keyword">public</span> <span class="built_in">stack</span>&lt;T&gt;</div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	linkedStack(<span class="keyword">int</span> InitialCapacity = <span class="number">10</span>)</div><div class="line">	&#123;</div><div class="line">		stackSize = <span class="number">0</span>;</div><div class="line">		stackTop = <span class="literal">NULL</span>;</div><div class="line">	&#125;</div><div class="line">	~linkedStack();</div><div class="line"></div><div class="line">	<span class="comment">// 实现操作</span></div><div class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="keyword">const</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> stackSize == <span class="number">0</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> </span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> stackSize;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function">T&amp; <span class="title">top</span><span class="params">()</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(stackSize == <span class="number">0</span>)</div><div class="line">			<span class="keyword">throw</span> <span class="string">"The stack is empty"</span>;</div><div class="line">		<span class="keyword">return</span> stackTop-&gt;element;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span></span>;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">const</span> T&amp; theElement)</span></span></div><div class="line">	&#123;</div><div class="line">		stackTop = <span class="keyword">new</span> chainNode&lt;T&gt;(theElement, stackTop);</div><div class="line">		stackSize++;</div><div class="line">	&#125;</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">	chainNode&lt;T&gt;* stackTop;</div><div class="line">	<span class="keyword">int</span> stackSize;		 <span class="comment">// 栈中的元素</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line">linkedStack&lt;T&gt;::~linkedStack()</div><div class="line">&#123;</div><div class="line">	<span class="keyword">while</span>(stackTop != <span class="literal">NULL</span>)</div><div class="line">	&#123;</div><div class="line">		chainNode&lt;T&gt;* nextNode = stackTop-&gt;next;</div><div class="line">		<span class="keyword">delete</span> stackTop;</div><div class="line">		stackTop = nextNode;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">void</span> linkedStack&lt;T&gt;::pop()</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(stackSize == <span class="number">0</span>)</div><div class="line">		<span class="keyword">throw</span> <span class="string">"the stack is empty"</span>;</div><div class="line"></div><div class="line">	chainNode&lt;T&gt;* nextNode = stackTop-&gt;next;</div><div class="line">	<span class="keyword">delete</span> stackTop;</div><div class="line">	stackTop = nextNode;</div><div class="line">	stackSize--;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// !LINKEDSTACK_H</span></span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/02/C-structure-linear-chain/" itemprop="url">
                  数据结构之线性表 -- 链式描述
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-01T23:16:37Z" content="2016-10-01">
              2016-10-01
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">programming</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/02/C-structure-linear-chain/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/02/C-structure-linear-chain/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="数据结构之线性表-–-链式描述"><a href="#数据结构之线性表-–-链式描述" class="headerlink" title="数据结构之线性表 – 链式描述"></a>数据结构之线性表 – 链式描述</h2><hr>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>与数组描述不同，在链式描述中，线性表的元素在内存中的存储位置是随机的。每个元素都有一个明确的指针（链）指向线性表的下一个元素的位置（地址）</p>
<h2 id="链表的种类"><a href="#链表的种类" class="headerlink" title="链表的种类"></a>链表的种类</h2><p>一般分为单链表，双链表和循环链表（单向或双向）。</p>
<h3 id="单链表"><a href="#单链表" class="headerlink" title="单链表"></a>单链表</h3><p>单链表结构是每个节点只有一个链，例如<br><a href="https://www.processon.com/chart_image/57efc539e4b009c4af2684ca.png" title="单链表" target="_blank" rel="external"><img src="https://www.processon.com/chart_image/57efc539e4b009c4af2684ca.png" alt="单链表" title="单链表"></a></p>
<h3 id="双链表"><a href="#双链表" class="headerlink" title="双链表"></a>双链表</h3><p>链表中每个节点有两个链，一个指向上一个节点，一个指向下一个节点</p>
<h3 id="循环链表"><a href="#循环链表" class="headerlink" title="循环链表"></a>循环链表</h3><p>循环链表是单链表的一种变种，单链表是将尾节点置为NULL，而循环链表是将尾节点指向头结点。</p>
<h2 id="链表的节点结构"><a href="#链表的节点结构" class="headerlink" title="链表的节点结构"></a>链表的节点结构</h2><p>这里我们以单链表为例，构建它的结构，如上图所示一个单链表需要有<strong>数据域</strong>（用来存放元素），链域（用来指向下一个节点），所以代码如下：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 定义节点的结构</span></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">struct</span> chainNode</div><div class="line">&#123;</div><div class="line">	T element;</div><div class="line">	chainNode&lt;T&gt; *next;</div><div class="line"></div><div class="line">	chainNode() &#123;&#125;</div><div class="line">	chainNode(<span class="keyword">const</span> T&amp; element)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">this</span>-&gt;element = element;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	chainNode(<span class="keyword">const</span> T&amp; element, chainNode&lt;T&gt;* next)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">this</span>-&gt;element = element;</div><div class="line">		<span class="keyword">this</span>-&gt;next = next;</div><div class="line">	&#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="链表的类（class-chain）"><a href="#链表的类（class-chain）" class="headerlink" title="链表的类（class chain）"></a>链表的类（class chain）</h2><p>当我们定义一个单链表的时候，我们考虑到要如何创建，如何添加，如何删除等等操作，因此编写代码如下。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 链表的操作</span></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">class</span> chain</div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	chain();</div><div class="line">	chain(<span class="keyword">const</span> chain&lt;T&gt;&amp;);</div><div class="line">	~chain();</div><div class="line">	<span class="comment">//ADT实现</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> element)</span></span>;		<span class="comment">// 向尾端添加元素</span></div><div class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> listSize == <span class="number">0</span>; &#125;	<span class="comment">// 判断是否为空</span></div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> listSize; &#125;			<span class="comment">// 返回链表长度</span></div><div class="line">	<span class="function">T&amp; <span class="title">get</span><span class="params">(<span class="keyword">int</span> theIndex)</span> <span class="keyword">const</span></span>;						<span class="comment">// 根据下标获取链表元素</span></div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">indexof</span><span class="params">(<span class="keyword">const</span> T&amp; theElement)</span> <span class="keyword">const</span></span>;			<span class="comment">// 根据元素获取下标</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">erase</span><span class="params">(<span class="keyword">int</span> theIndex)</span></span>;						<span class="comment">// 根据下标删除元素</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> theIndex, <span class="keyword">const</span> T&amp; theElement)</span></span>;	<span class="comment">// 插入操作</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">()</span> <span class="keyword">const</span></span>;							<span class="comment">// 输出链表</span></div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">checkIndex</span><span class="params">(<span class="keyword">int</span> theIndex)</span>   <span class="comment">// 检查下标</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(theIndex &lt; <span class="number">0</span> || theIndex &gt; listSize)</div><div class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	chainNode&lt;T&gt;* firstNode;</div><div class="line">	<span class="keyword">int</span> listSize;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h2 id="链表类的实现"><a href="#链表类的实现" class="headerlink" title="链表类的实现"></a>链表类的实现</h2><h4 id="构造函数和析构函数"><a href="#构造函数和析构函数" class="headerlink" title="构造函数和析构函数"></a>构造函数和析构函数</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line">chain&lt;T&gt;::chain()</div><div class="line">&#123;</div><div class="line">	firstNode = <span class="literal">NULL</span>;</div><div class="line">	listSize = <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line">chain&lt;T&gt;::chain(<span class="keyword">const</span> chain&lt;T&gt;&amp; theList)</div><div class="line">&#123;</div><div class="line">	listSize = theList.listSize;</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(listSize == <span class="number">0</span>)</div><div class="line">	&#123;</div><div class="line">		firstNode = <span class="literal">NULL</span>;</div><div class="line">		listSize = <span class="number">0</span>;</div><div class="line">		<span class="comment">//return;</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// 进行拷贝</span></div><div class="line">	<span class="comment">// 中间变量</span></div><div class="line">	chainNode&lt;T&gt;* sourceNode = theList.firstNode;</div><div class="line">	firstNode = <span class="keyword">new</span> chainNode&lt;T&gt;(sourceNode-&gt;element);</div><div class="line">	<span class="comment">// 因为要保证firstNode始终指向头指正，并且能够正常赋值，</span></div><div class="line">	<span class="comment">// 采取另一个指针来拷贝</span></div><div class="line">	chainNode&lt;T&gt;* temp = firstNode;</div><div class="line"></div><div class="line">	sourceNode = sourceNode-&gt;next;</div><div class="line">	<span class="keyword">while</span>(sourceNode != <span class="literal">NULL</span>)</div><div class="line">	&#123;</div><div class="line">		temp-&gt;next = <span class="keyword">new</span> chainNode&lt;T&gt;(sourceNode-&gt;element);</div><div class="line">		temp = temp-&gt;next;</div><div class="line">		sourceNode = sourceNode-&gt;next;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	temp-&gt;next = <span class="literal">NULL</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line">chain&lt;T&gt;::~chain()</div><div class="line">&#123;</div><div class="line">	<span class="keyword">while</span>(firstNode != <span class="literal">NULL</span>)</div><div class="line">	&#123;</div><div class="line">		chainNode&lt;T&gt;* nextNode = firstNode-&gt;next;</div><div class="line">		<span class="keyword">delete</span> firstNode;</div><div class="line">		firstNode = nextNode;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="add-和-insert-操作"><a href="#add-和-insert-操作" class="headerlink" title="add() 和 insert() 操作"></a>add() 和 insert() 操作</h4><p>思路都是把上一个节点的指针指向插入的元素，插入元素的指针指向节点的下一个节点<br><a href="https://www.processon.com/chart_image/57efcddbe4b0300f4fd45fd5.png" title="插入操作" target="_blank" rel="external"><img src="https://www.processon.com/chart_image/57efcddbe4b0300f4fd45fd5.png" alt="插入操作" title="插入操作"></a></p>
<p>代码实现<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">void</span> chain&lt;T&gt;::add(<span class="keyword">int</span> theElement)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(firstNode == <span class="literal">NULL</span>)</div><div class="line">	&#123;</div><div class="line">		firstNode = <span class="keyword">new</span> chainNode&lt;T&gt;(theElement, firstNode);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">	&#123;</div><div class="line">		chainNode&lt;T&gt;* p = firstNode;</div><div class="line">		<span class="keyword">while</span>(p-&gt;next != <span class="literal">NULL</span>)</div><div class="line">		&#123;</div><div class="line">			p = p-&gt;next;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		p-&gt;next = <span class="keyword">new</span> chainNode&lt;T&gt;;</div><div class="line">		p-&gt;next-&gt;element = theElement;</div><div class="line">		p-&gt;next-&gt;next = <span class="literal">NULL</span>;</div><div class="line"></div><div class="line">	&#125;</div><div class="line">	listSize++;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">void</span> chain&lt;T&gt;::insert(<span class="keyword">int</span> theIndex, <span class="keyword">const</span> T&amp; theElement)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(theIndex &lt; <span class="number">0</span> || theIndex &gt; listSize)</div><div class="line">		<span class="keyword">return</span>;</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(theIndex == <span class="number">0</span>)</div><div class="line">	&#123;</div><div class="line">		firstNode = <span class="keyword">new</span> chainNode&lt;T&gt;(theElement, firstNode);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">	&#123;</div><div class="line">		chainNode&lt;T&gt;* p = firstNode;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; theIndex - <span class="number">1</span>; i++)</div><div class="line">		&#123;</div><div class="line">			p = p-&gt;next;</div><div class="line">		&#125;</div><div class="line">		p = <span class="keyword">new</span> chainNode&lt;T&gt;(theElement, p-&gt;next);</div><div class="line">	&#125;</div><div class="line">	listSize++;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="erase-操作"><a href="#erase-操作" class="headerlink" title="erase() 操作"></a>erase() 操作</h4><p>例如，有N个节点的链表，要删除第三个节点，即是遍历到第二个节点，将第二个节点的链域从原来指向第三个节点的指针，改为指向第四个节点，然后释放第三个节点即可</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">void</span> chain&lt;T&gt;::erase(<span class="keyword">int</span> theIndex)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(!checkIndex(theIndex))</div><div class="line">		<span class="keyword">return</span>;</div><div class="line"></div><div class="line">	chainNode&lt;T&gt;* deleteNode = firstNode;</div><div class="line">	<span class="keyword">if</span>(deleteNode == <span class="literal">NULL</span>)</div><div class="line">	&#123;</div><div class="line">		deleteNode = firstNode;</div><div class="line">		firstNode = firstNode-&gt;next;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">	&#123;</div><div class="line">		chainNode&lt;T&gt;* p = firstNode;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; theIndex - <span class="number">1</span>; i++)</div><div class="line">		&#123;</div><div class="line">			p = p-&gt;next;</div><div class="line">		&#125;</div><div class="line">		deleteNode = p-&gt;next;</div><div class="line">		p-&gt;next = p-&gt;next-&gt;next;</div><div class="line">	&#125;</div><div class="line">	listSize--;</div><div class="line">	<span class="keyword">delete</span> deleteNode;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="get-和-indexof-操作"><a href="#get-和-indexof-操作" class="headerlink" title="get() 和 indexof() 操作"></a>get() 和 indexof() 操作</h4><p>在线性表中要查找一个元素的位置，必须从第一个节点出发，依次遍历每一个节点，直到你需要的节点的位置停止。因此每次遍历的时候我们都需要一个临时指针（指向firstNode节点）来替代头结点，进行遍历，以防止头结点的指向错误，导致下一次遍历失败（或者说，下一次遍历的时候不是从头结点出发，而是从你上次遍历的时候停止的地方）<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line">T&amp; chain&lt;T&gt;::get(<span class="keyword">int</span> theIndex) <span class="keyword">const</span></div><div class="line">&#123;</div><div class="line">	chainNode&lt;T&gt;* currentNode = firstNode;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; theIndex; i++)</div><div class="line">	&#123;</div><div class="line">		currentNode = currentNode-&gt;next;</div><div class="line">	&#125;	</div><div class="line"></div><div class="line">	<span class="keyword">return</span> currentNode-&gt;element;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">int</span> chain&lt;T&gt;::indexof(<span class="keyword">const</span> T&amp; theElement) <span class="keyword">const</span></div><div class="line">&#123;</div><div class="line">	chainNode&lt;T&gt;* currentNode = firstNode;</div><div class="line">	<span class="keyword">int</span> index;</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; listSize; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(currentNode-&gt;element == theElement)</div><div class="line">			<span class="keyword">break</span>;</div><div class="line">		currentNode = currentNode-&gt;next;</div><div class="line">		index++;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(currentNode == <span class="literal">NULL</span>)</div><div class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">	<span class="keyword">else</span></div><div class="line">		<span class="keyword">return</span> index;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>相对于单链表，双向链表和循环链表有许多不同，例如：我们如何计算它的链表长度？<br>这些留给下一次写吧，谢谢你的观看，如果有什么意见请提出来。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/01/C-structure-linear-array/" itemprop="url">
                  数据结构之线性表---数组描述
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-30T21:50:57Z" content="2016-09-30">
              2016-09-30
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">programming</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/01/C-structure-linear-array/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/01/C-structure-linear-array/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="数据结构之线性表—数组描述"><a href="#数据结构之线性表—数组描述" class="headerlink" title="数据结构之线性表—数组描述"></a>数据结构之线性表—数组描述</h2><hr>
<p>前面我写了几节二叉树，现在想想还是回过头来吧线性表写了</p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>C++里提供了强大的STL（标准模板库），而且很多大神和相关书籍多提倡我们使用STL，切勿盲目自己写，这样反而效率更低。但是在使用STL的同时，能够了解如何实现简单的STL是很爽的。</p>
<p>C++程序常用的数据描述方式是数组描述和链式描述，而线性表可以用来说明这两种方法。STL容器大致相当于线性表的数组描述方式和链式描述方式，当然STL还有很多其他的方法，这里就不介绍了。</p>
<h2 id="线性表"><a href="#线性表" class="headerlink" title="线性表"></a>线性表</h2><p>线性表也叫作有序表，它的每一个实例都是元素的一个有序集合</p>
<h2 id="数组描述"><a href="#数组描述" class="headerlink" title="数组描述"></a>数组描述</h2><p>当我们在写数据结构的时候我们首先想到可能是如何创建，然后是它有什么操作。</p>
<p>创建 ： 因为是利用数组来存储元素，用的也是数组类型</p>
<p>当创建好一个线性表的时候，它应该有如下操作：</p>
<ol>
<li>向线性表添加元素</li>
<li>销毁一个线性表</li>
<li>判断线性表是否为空</li>
<li>确定线性表的长度</li>
<li>按给定的索引查找一个元素</li>
<li>安给定的元素查找第一个出现该元素的索引</li>
<li>按给定的索引插入一个元素</li>
<li>从左到右顺序输出线性表元素<br>….</li>
</ol>
<p>也有人说是不是操作过多，放在同一个类里，会不会造成代码太复杂，拥挤，这里我们不考虑这些，只是单纯的实现这些操作</p>
<h2 id="类arrayList的创建"><a href="#类arrayList的创建" class="headerlink" title="类arrayList的创建"></a>类arrayList的创建</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> arrayList</div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	arrayList(<span class="keyword">int</span> initialCapacity = <span class="number">10</span>);</div><div class="line">	arrayList(<span class="keyword">const</span> arrayList&lt;T&gt;&amp; theList);</div><div class="line">	~arrayList() &#123; <span class="keyword">delete</span>[] element; element = <span class="number">0</span>;&#125;</div><div class="line"></div><div class="line">	<span class="comment">//ADT实现</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(T theElement)</span></span>;				<span class="comment">// 向尾部添加元素</span></div><div class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> listSize == <span class="number">0</span>; &#125;		<span class="comment">// 判断是否为空</span></div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span>  </span>&#123;<span class="keyword">return</span> listSize;&#125;;					<span class="comment">// 返回数组中元素的个数</span></div><div class="line">	<span class="function">T&amp; <span class="title">get</span><span class="params">(<span class="keyword">int</span> theIndex)</span> <span class="keyword">const</span></span>;							<span class="comment">// 根据索引获取元素</span></div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">indexof</span><span class="params">(<span class="keyword">const</span> T&amp; theElemet)</span> <span class="keyword">const</span></span>;		<span class="comment">// 返回数组中第一个出现的下标</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">erase</span><span class="params">(<span class="keyword">int</span> theIndex)</span></span>;								<span class="comment">// 删除操作</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> theIndex, T&amp; theElemet)</span></span>;		<span class="comment">// 插入操作</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">()</span> <span class="keyword">const</span></span>;										<span class="comment">// 输出操作</span></div><div class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">equal</span><span class="params">(<span class="keyword">const</span> arrayList&lt;T&gt;&amp; theList)</span> <span class="keyword">const</span></span>;		<span class="comment">// 判断两个线性表是否相等</span></div><div class="line">	<span class="comment">// 返回链表中可以放置的元素个数</span></div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">Capacity</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> arrayLength;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// 倍增数组</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">changeLengthlD</span><span class="params">(T* &amp;a, <span class="keyword">int</span> oldLength, <span class="keyword">int</span> newLength)</span></span>;</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">	<span class="comment">// 检查下标是否过界</span></div><div class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">CheckIndex</span><span class="params">(<span class="keyword">int</span> theIndex)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(theIndex &lt;<span class="number">0</span> || theIndex &gt; arrayLength)</div><div class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;	</div><div class="line"></div><div class="line">	T* element;		<span class="comment">// 存储一元数组的容器</span></div><div class="line">	<span class="keyword">int</span> arrayLength; <span class="comment">// 一维数组的容量</span></div><div class="line">	<span class="keyword">int</span> listSize;	<span class="comment">// 线性表的元素个数</span></div><div class="line"></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><strong><font color="red">注：由于这里用到了模板类所以特意提醒下 </font></strong><br>《C++编程思想》里说道，模板定义很特殊。由template&lt;…&gt; 处理的任何东西都意味着编译器在当时不为它分配存储空间，它一直处于等待状态直到被一个模板实例告知。在编译器和连接器的某一处，有一机制能去掉指定模板的多重定义。所以为了容易使用，<strong>几乎总是在头文件中放置全部的模板声明和定义。</strong></p>
<h2 id="类的具体实现"><a href="#类的具体实现" class="headerlink" title="类的具体实现"></a>类的具体实现</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; </div><div class="line">arrayList&lt;T&gt;::arrayList(<span class="keyword">int</span> initialCapacity)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(initialCapacity &lt; <span class="number">1</span>)</div><div class="line">		<span class="comment">// throw "The initialCapacity must be &gt; 0";</span></div><div class="line">		initialCapacity = <span class="number">10</span>; <span class="comment">// default 10</span></div><div class="line"></div><div class="line">	arrayLength = initialCapacity;</div><div class="line">	element = <span class="keyword">new</span> T[initialCapacity];</div><div class="line">	listSize = <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line">arrayList&lt;T&gt;::arrayList(<span class="keyword">const</span> arrayList&lt;T&gt;&amp; theList)</div><div class="line">&#123;</div><div class="line">	arrayLength = theList.arrayLength;</div><div class="line">	listSize = theList.listSize;</div><div class="line"></div><div class="line">	element = <span class="keyword">new</span> T[arrayLength];</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; listSize; i++)</div><div class="line">		element[i] = theList[i];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">void</span> arrayList&lt;T&gt;::add(T theElement)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(listSize &lt; arrayLength)</div><div class="line">	&#123;</div><div class="line">		element[listSize] = theElement;</div><div class="line">		listSize++;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">	&#123;</div><div class="line">		changeLengthlD(element, arrayLength, <span class="number">2</span>*arrayLength);</div><div class="line">		element[listSize] = theElement;</div><div class="line">		listSize++;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line">T&amp; arrayList&lt;T&gt;::get(<span class="keyword">int</span> theIndex) <span class="keyword">const</span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(theIndex &lt; <span class="number">0</span> || theIndex &gt; listSize)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> element[<span class="number">-1</span>];</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">return</span> element[theIndex];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">int</span> arrayList&lt;T&gt;::indexof(<span class="keyword">const</span> T&amp; theElemet) <span class="keyword">const</span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; listSize; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(theElemet == element[i])</div><div class="line">			<span class="keyword">return</span> i;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">void</span> arrayList&lt;T&gt;::erase(<span class="keyword">int</span> theIndex)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(theIndex &lt; <span class="number">0</span> || theIndex &gt; listSize)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> ;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	copy(element + theIndex + <span class="number">1</span>, element + listSize, element + theIndex);</div><div class="line">	listSize--;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">void</span> arrayList&lt;T&gt;::insert(<span class="keyword">int</span> theIndex, T&amp; theElemet)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(theIndex &lt; <span class="number">0</span> || theIndex &gt; listSize)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(listSize == arrayLength)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">int</span> newLength = <span class="number">2</span>*arrayLength;</div><div class="line">		changeLengthlD(element, arrayLength, newLength);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	copy(element + theIndex, element + listSize, element + theIndex + <span class="number">1</span>);</div><div class="line">	element[theIndex] = theElemet;</div><div class="line">	listSize++;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">void</span> arrayList&lt;T&gt;::output() <span class="keyword">const</span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; listSize; i++)</div><div class="line">		<span class="built_in">cout</span> &lt;&lt; element[i] &lt;&lt; <span class="string">' '</span>;</div><div class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">void</span> arrayList&lt;T&gt;::changeLengthlD(T* &amp;a, <span class="keyword">int</span> oldLength, <span class="keyword">int</span> newLength)</div><div class="line">&#123;</div><div class="line">	T* temp = <span class="keyword">new</span> T[oldLength];</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; listSize; i++)</div><div class="line">	&#123;</div><div class="line">		temp[i] = a[i];</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">delete</span>[] a;</div><div class="line">	a = <span class="keyword">new</span> T[newLength];</div><div class="line">	arrayLength = newLength;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; listSize; i++)</div><div class="line">	&#123;</div><div class="line">		a[i] = temp[i];</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">bool</span> arrayList&lt;T&gt;::equal(<span class="keyword">const</span> arrayList&lt;T&gt;&amp; theList) <span class="keyword">const</span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(listSize != theList.listSize)</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">	<span class="keyword">if</span>(arrayLength != theList.arrayLength)</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line"></div><div class="line">	<span class="keyword">bool</span> equal = <span class="literal">true</span>;</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; listSize; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(element[i] != theList.element[i])</div><div class="line">		&#123;</div><div class="line">			equal = <span class="literal">false</span>;</div><div class="line">			<span class="keyword">break</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> equal;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>实现的代码都是很简单的，这里主要讲下本文插入元素和删除元素中的思路,在代码中我们用到了copy函数，这里假设数组元素为:  1, 2, 3, 4, 5 ,6, 7, 8</p>
<p>当我们在元素’4’的后面插入一个’0’，’4’之后的每一个元素都要顺序往后面移一位，copy()在这时就简化了代码量。<br><strong>(</strong> 其中copy的定义<code>OutputIt copy( InputIt first, InputIt last, OutputIt d_first )</code><strong>)</strong></p>
<h2 id="Vector简单描述"><a href="#Vector简单描述" class="headerlink" title="Vector简单描述"></a>Vector简单描述</h2><p><a href="http://en.cppreference.com/w/cpp/container/vector" title="vector" target="_blank" rel="external">vector</a>是STL提供的一个基于数组的类，他不仅包含了上述介绍的全部方法，还增加了很多其它的方法，有兴趣的可以自己去看文档。例如：它没有get，而与之相应的是operator[]（当然还有其他的）, 。</p>
<h2 id="数组描述的优缺点"><a href="#数组描述的优缺点" class="headerlink" title="数组描述的优缺点"></a>数组描述的优缺点</h2><p>数组描述的优点在于令人满意的时间性能</p>
<p>数组描述的缺点是空间利用率低，如果造成内存不足，可能是动态数组空间分配失败或者数组长度倍增失败所致。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/23/C-structure-binarytree/" itemprop="url">
                  数据结构之二叉树(二)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-23T01:42:59Z" content="2016-09-23">
              2016-09-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">programming</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/23/C-structure-binarytree/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/23/C-structure-binarytree/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="数据结构之二叉树-二"><a href="#数据结构之二叉树-二" class="headerlink" title="数据结构之二叉树(二)"></a>数据结构之二叉树(二)</h2><hr>
<h4 id="二叉树是一种特殊的树，在上一节中也介绍了树的其他形式，例如：霍夫曼树，B树等。其中，二叉树的常用操作有"><a href="#二叉树是一种特殊的树，在上一节中也介绍了树的其他形式，例如：霍夫曼树，B树等。其中，二叉树的常用操作有" class="headerlink" title="二叉树是一种特殊的树，在上一节中也介绍了树的其他形式，例如：霍夫曼树，B树等。其中，二叉树的常用操作有"></a>二叉树是一种特殊的树，在上一节中也介绍了树的其他形式，例如：霍夫曼树，B树等。其中，二叉树的常用操作有</h4><ol>
<li>确定树高</li>
<li>确定元素数目</li>
<li>复制</li>
<li>显示或打印二叉树</li>
<li>确定两颗二叉树是否一样</li>
<li>删除整颗树</li>
</ol>
<h4 id="这些操作都可以通过有步骤的遍历二叉树来完成，如果不知道如何遍历二叉树的话请返回：数据结构之二叉树（一）"><a href="#这些操作都可以通过有步骤的遍历二叉树来完成，如果不知道如何遍历二叉树的话请返回：数据结构之二叉树（一）" class="headerlink" title="这些操作都可以通过有步骤的遍历二叉树来完成，如果不知道如何遍历二叉树的话请返回：数据结构之二叉树（一）"></a>这些操作都可以通过有步骤的遍历二叉树来完成，如果不知道如何遍历二叉树的话请返回：<a href="http://ixjfun.top/2016/09/22/C-algorithms-binarytree/" title="数据结构之二叉树（一）" target="_blank" rel="external">数据结构之二叉树（一）</a></h4><h2 id="二叉树的完整构建（续）"><a href="#二叉树的完整构建（续）" class="headerlink" title="二叉树的完整构建（续）"></a>二叉树的完整构建（续）</h2><p>在构建二叉树，我们先要知道二叉树的数据成员和成员函数应该是什么。首先数据成员要有记录树节点的变量，以便我们返回树的节点个数，一个指向根节点的指针（可用于遍历操作等）。成员函数中，我们应该有上述提到的所有部分或全部操作（每个人的需求不一样，看自己的数据结构需要什么，自由组合等等）。因此代码实现为：<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">template &lt;typename T&gt;</div><div class="line">class linkedBinaryTree : public binaryTree&lt;binaryTreeNode&lt;T&gt;&gt;</div><div class="line">&#123;</div><div class="line">public:</div><div class="line">	linkedBinaryTree();</div><div class="line">	~linkedBinaryTree(erase(););</div><div class="line">	bool emtpy() const &#123;return m_iTreeSize == 0; &#125;</div><div class="line">	void preOrder(void (*theVisit)(binaryTreeNode&lt;T&gt;*))</div><div class="line">	&#123;</div><div class="line">		visit = theVist;</div><div class="line">		preOrder(m_pRoot);</div><div class="line">	&#125;</div><div class="line">	void inOrder(void (*theVisit)(binaryTreeNode&lt;T&gt;*))</div><div class="line">	&#123;</div><div class="line">		visit = theVist;</div><div class="line">		inOrder(m_pRoot);</div><div class="line">	&#125;</div><div class="line">	void postOrder(void (*theVisit)(binaryTreeNode&lt;T&gt;*))</div><div class="line">	&#123;</div><div class="line">		visit = theVist;</div><div class="line">		postOrder(m_pRoot);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	void int size() const &#123;return m_iTreeSize; &#125;</div><div class="line">	void levelOrder(void (*)(binaryTreeNode&lt;T&gt;*));</div><div class="line">	void erase()</div><div class="line">	&#123;</div><div class="line">		postOrder(dispose);</div><div class="line">		m_pRoot = NULL;</div><div class="line">		treeSize = 0;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">private:</div><div class="line">	int m_iTreeSize;</div><div class="line">	binaryTreeNode&lt;T&gt; *m_pRoot;		// 指向根节点</div><div class="line">	static void (*visit))(binaryTreeNode&lt;T&gt; *);		// 访问函数</div><div class="line">	static void preOrder(binaryTreeNode&lt;T&gt; *);  		// 前序遍历</div><div class="line">	static void inOrder(binaryTreeNode&lt;T&gt; *);			  // 中序遍历</div><div class="line">	static void dispose(binaryTreeNode&lt;T&gt; *t) &#123;delete t;&#125;			// 后序遍历</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>注意事项：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> (*)(binaryTreeNode&lt;T&gt;*)</div><div class="line"></div><div class="line">是一种函数类型，这种函数的返回值为<span class="keyword">void</span>, 它的参数类型为binaryTreeNode&lt;T&gt; *， 即是一个指针</div></pre></td></tr></table></figure></p>
<h5 id="如何获取树的高度"><a href="#如何获取树的高度" class="headerlink" title="如何获取树的高度"></a>如何获取树的高度</h5><p>思路：首先取它左子树的高度，然后取它右子树的高度，最后把左右子树高度的最大值加1，取得树的高度</p>
<h5 id="删除整颗树"><a href="#删除整颗树" class="headerlink" title="删除整颗树"></a>删除整颗树</h5><p>思路：前序或中序或后序遍历，每次遍历删除节点即可</p>
<h5 id="比较两颗树是否相等"><a href="#比较两颗树是否相等" class="headerlink" title="比较两颗树是否相等"></a>比较两颗树是否相等</h5><p>思路：如果两颗树的节点数不一样，则直接输出不相等，前序，中序或后序遍历每个节点的节点元素，两颗树进行数值比较</p>
<h3 id="类的部分实现"><a href="#类的部分实现" class="headerlink" title="类的部分实现"></a>类的部分实现</h3><h4 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">void</span> linkedBinaryTree&lt;T&gt;::preOrder(binaryTreeNode&lt;T&gt; *t)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(t != <span class="literal">NULL</span>)</div><div class="line">	&#123;</div><div class="line">		linkedBinaryTree&lt;T&gt;::printvalue(t);</div><div class="line">		preOrder(t-&gt;leftChild);</div><div class="line">		preOrder(t-&gt;rightChild);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="树的高度"><a href="#树的高度" class="headerlink" title="树的高度"></a>树的高度</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">int</span> linkedBinaryTree&lt;T&gt;::height(binaryTreeNode&lt;T&gt; *t)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(t == <span class="literal">NULL</span>)</div><div class="line">		<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">int</span> hl = height(t-&gt;leftChild);</div><div class="line">	<span class="keyword">int</span> hr = height(t-&gt;rightChild);</div><div class="line">	<span class="keyword">if</span> (hl &gt; hr)</div><div class="line">		<span class="keyword">return</span> ++hl;</div><div class="line">	<span class="keyword">else</span></div><div class="line">		<span class="keyword">return</span> ++hr;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/22/C-algorithms-binarytree/" itemprop="url">
                  数据结构之二叉树(一)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-22T01:25:59Z" content="2016-09-22">
              2016-09-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">programming</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/22/C-algorithms-binarytree/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/22/C-algorithms-binarytree/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h2 id="树的简单介绍"><a href="#树的简单介绍" class="headerlink" title="树的简单介绍"></a>树的简单介绍</h2><h3 id="树和二叉树的术语"><a href="#树和二叉树的术语" class="headerlink" title="树和二叉树的术语"></a>树和二叉树的术语</h3><ol>
<li>节点的度：一个节点含有的子树的个数称为该节点的度； </li>
<li>树的度：一棵树中，最大的节点的度称为树的度；</li>
<li>叶节点或终端节点：度为零的节点；</li>
<li>非终端节点或分支节点：度不为零的节点；</li>
<li>父亲节点或父节点：若一个节点含有子节点，则这个节点称为其子节点的父节点；</li>
<li>孩子节点或子节点：一个节点含有的子树的根节点称为该节点的子节点；</li>
<li>兄弟节点：具有相同父节点的节点互称为兄弟节点；</li>
<li>节点的层次：从根开始定义起，根为第1层，根的子节点为第2层，以此类推；</li>
<li>树的高度或深度：树中节点的最大层次；</li>
<li>堂兄弟节点：父节点在同一层的节点互为堂兄弟；</li>
<li>节点的祖先：从根到该节点所经分支上的所有节点；</li>
<li>子孙：以某节点为根的子树中任一节点都称为该节点的子孙。</li>
<li><p>森林：由m（m&gt;=0）棵互不相交的树的集合称为森林；</p>
<p>引自：<a href="https://zh.wikipedia.org/wiki/%E6%A0%91_%28%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%29" target="_blank" rel="external">树的基本术语</a></p>
</li>
</ol>
<h3 id="树的特点"><a href="#树的特点" class="headerlink" title="树的特点"></a>树的特点</h3><ol>
<li>每个节点有零个或多个子节点</li>
<li>没有父节点的节点称为根节点</li>
<li>每一个非根节点有且仅有一个父节点</li>
<li>除了根节点外，每个子节点可以分为多个不相交的子树</li>
</ol>
<h3 id="树的种类"><a href="#树的种类" class="headerlink" title="树的种类"></a>树的种类</h3><ul>
<li>二叉树<ul>
<li>完全二叉树<ul>
<li>满二叉树</li>
</ul>
</li>
<li>平衡二叉树</li>
<li>二叉搜索树</li>
</ul>
</li>
<li>霍夫曼树</li>
<li>B树 </li>
</ul>
<hr>
<h2 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h2><h3 id="二叉树和树的根本区别："><a href="#二叉树和树的根本区别：" class="headerlink" title="二叉树和树的根本区别："></a>二叉树和树的根本区别：</h3><ul>
<li>二叉树的每个元素都恰好有两颗子树，而树的每个元素可以有任意数量的子树</li>
<li>二叉树中，每个元素的子树都是有序的</li>
<li>二叉树可以为空，而树不可以为空</li>
</ul>
<h3 id="二叉树的简单创建"><a href="#二叉树的简单创建" class="headerlink" title="二叉树的简单创建"></a>二叉树的简单创建</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">struct</span> binaryTreeNode</div><div class="line">&#123;</div><div class="line">	T element;</div><div class="line">	binaryTreeNode&lt;T&gt; *leftChild, *rightChild;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">printvalue</span><span class="params">(binaryTreeNode&lt;T&gt; *t)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="built_in">cout</span> &lt;&lt; t-&gt;element &lt;&lt; <span class="string">"  "</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">inOrder</span><span class="params">(binaryTreeNode&lt;T&gt; *t)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span> (t != <span class="literal">NULL</span>)</div><div class="line">	&#123;</div><div class="line">		inOrder(t-&gt;leftChild);</div><div class="line">		printvalue&lt;T&gt;(t);</div><div class="line">		inOrder(t-&gt;rightChild);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	binaryTreeNode&lt;<span class="keyword">int</span>&gt; one, two, three;</div><div class="line">	one.element = <span class="number">10</span>;</div><div class="line">	two.element = <span class="number">20</span>;</div><div class="line">	three.element = <span class="number">30</span>;</div><div class="line">	one.leftChild = &amp;two;</div><div class="line">	one.rightChild = &amp;three;</div><div class="line">	two.leftChild = <span class="literal">NULL</span>;</div><div class="line">	two.leftChild = <span class="literal">NULL</span>;</div><div class="line">	three.leftChild = <span class="literal">NULL</span>;</div><div class="line">	three.rightChild = <span class="literal">NULL</span>;</div><div class="line"></div><div class="line">	inOrder&lt;<span class="keyword">int</span>&gt;(&amp;one);</div><div class="line"></div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="二叉树的遍历："><a href="#二叉树的遍历：" class="headerlink" title="二叉树的遍历："></a>二叉树的遍历：</h3><h4 id="前序遍历"><a href="#前序遍历" class="headerlink" title="前序遍历"></a>前序遍历</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(binaryTreeNode&lt;T&gt; *t)</span>	</span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(t != <span class="literal">NULL</span>)</div><div class="line">	&#123;</div><div class="line">		printvalue(t);						<span class="comment">// 输出元素</span></div><div class="line">		preOrder(t-&gt;leftChild);		<span class="comment">// 前序遍历左子树</span></div><div class="line">		preOrder(t-&gt;rightChild);		<span class="comment">// 后序遍历右子树</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="中序遍历"><a href="#中序遍历" class="headerlink" title="中序遍历"></a>中序遍历</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">inOrder</span><span class="params">(binaryTreeNode&lt;T&gt; *t)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(t != <span class="literal">NULL</span>)</div><div class="line">	&#123;</div><div class="line">		inOrder(t-&gt;leftChild);		  <span class="comment">// 中序遍历左子树</span></div><div class="line">		printvalue(t);						<span class="comment">// 输出元素</span></div><div class="line">		inOrder(t-&gt;rightChild);			<span class="comment">// 中序遍历右子树</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="后序遍历"><a href="#后序遍历" class="headerlink" title="后序遍历"></a>后序遍历</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">postOrder</span><span class="params">(binaryTreeNode&lt;T&gt; *t)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(t != <span class="literal">NULL</span>)</div><div class="line">	&#123;</div><div class="line">		postOrder(t-&gt;leftChild);		<span class="comment">// 后序遍历左子树</span></div><div class="line">		postOrder(t-&gt;rightChild);     <span class="comment">// 后序序遍历右子树</span></div><div class="line">		printvalue(t);						   <span class="comment">// 输出元素</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="层序遍历"><a href="#层序遍历" class="headerlink" title="层序遍历"></a>层序遍历</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 层序遍历需要对列，递归编写很困难</span></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">levelOrder</span><span class="params">(binaryTreeNode&lt;T&gt; *t)</span></span></div><div class="line">&#123;</div><div class="line">	arrayQueue&lt;&lt;binaryTreeNode&lt;T&gt; *&gt; q;</div><div class="line">	<span class="keyword">while</span>(t != <span class="literal">NULL</span>)</div><div class="line">	&#123;</div><div class="line">		printvalue(t);</div><div class="line">		</div><div class="line">		<span class="keyword">if</span>(t-&gt;leftChild != <span class="literal">NULL</span>)</div><div class="line">			q.push(t-&gt;leftChild);</div><div class="line">		<span class="keyword">if</span>(t-&gt;rightChild != <span class="literal">NULL</span>)</div><div class="line">			q.push(t-&gt;rightChild);</div><div class="line">		</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			t = q.front();</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">catch</span>(queueEmpty) &#123;</div><div class="line">			<span class="keyword">return</span>;</div><div class="line">		&#125;</div><div class="line">		q.pop();	</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="printvalue的实现"><a href="#printvalue的实现" class="headerlink" title="printvalue的实现"></a>printvalue的实现</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">printvalue</span><span class="params">(binaryTree&lt;T&gt; *t)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="built_in">cout</span> &lt;&lt; x-&gt;element &lt;&lt; <span class="string">' '</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="抽象二叉树的实现"><a href="#抽象二叉树的实现" class="headerlink" title="抽象二叉树的实现"></a>抽象二叉树的实现</h3><h4 id="二叉树节点的结构"><a href="#二叉树节点的结构" class="headerlink" title="二叉树节点的结构"></a>二叉树节点的结构</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">struct</span> binaryTreeNode</div><div class="line">&#123;</div><div class="line">	T element;</div><div class="line">	binaryTreeNode&lt;T&gt; *leftChild, *rightChild;</div><div class="line"></div><div class="line">	binaryTreeNode() &#123;</div><div class="line">		leftChild = rightChild = <span class="literal">NULL</span>;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	binaryTreeNode(<span class="keyword">const</span> T &amp;theElement) &#123;</div><div class="line">		element(theElement);</div><div class="line">		leftChild = rightChild = <span class="literal">NULL</span>;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	binaryTreeNode(<span class="keyword">const</span> T &amp;theElement, binaryTreeNode *theLeftChild, binaryTreeNode *theRightChild) &#123;</div><div class="line">		element(theElement);</div><div class="line">		leftChild = theLeftChild;</div><div class="line">		rightChild = theRightChild;</div><div class="line">	&#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h4 id="二叉树抽象类的构建"><a href="#二叉树抽象类的构建" class="headerlink" title="二叉树抽象类的构建"></a>二叉树抽象类的构建</h4><pre><code>二叉树类的ADT描述
{
 操作：
    emtpy();    // 若树为空返回true
    size();            // 返回树的节点个数
    printvalue(t);   // 输出节点元素函数
    preOrder(t);    // 前序遍历
    inOrder(t);        // 中序遍历
    postOrder(t);        // 后序遍历
    levelOrder(t);        // 层序遍历
}
</code></pre><p>代码实现</p>
<p>其中 T 表示二叉树节点结构<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">template &lt;typename T&gt;</div><div class="line">class binaryTree</div><div class="line">&#123;</div><div class="line">public:</div><div class="line">	virtual ~binaryTree() &#123; &#125;;</div><div class="line">	virtual bool emtpy() const = 0;</div><div class="line">	virtual int size() const = 0;</div><div class="line">	virtual void printvalue(void *(T *)) = 0;</div><div class="line">	virtual void preOrder(void *(T *)) = 0;</div><div class="line">	virtual void inOrder(void *(T *)) = 0;</div><div class="line">	virtual void postOrder(void *(T *)) = 0;</div><div class="line">	virtual void levelOrder(void *(T *)) = 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<blockquote>
<p>余下代码的实现和完整代码将在下节中写出</p>
</blockquote>
<p>附上： <a href="https://github.com/jiafanxue/Cprogram/blob/master/Data%20Structures%20in%20C/5-1.c" title="C实现二叉树遍历" target="_blank" rel="external">c语言实现二叉树遍历</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/31/C-class-constructor-一/" itemprop="url">
                  C++类的初体验封装之构造函数（一）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-31T10:01:17Z" content="2016-08-31">
              2016-08-31
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">programming</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/08/31/C-class-constructor-一/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/31/C-class-constructor-一/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><h4 id="在讲构造函数之前，我们先介绍什么是类，类的作用和类的定义"><a href="#在讲构造函数之前，我们先介绍什么是类，类的作用和类的定义" class="headerlink" title="在讲构造函数之前，我们先介绍什么是类，类的作用和类的定义"></a>在讲构造函数之前，我们先介绍什么是类，类的作用和类的定义</h4><h2 id="什么是类"><a href="#什么是类" class="headerlink" title="什么是类"></a>什么是类</h2><h4 id="类是一种复杂的数据结构，它是将各种不同的数据类型和数据的相关操作封装在一起的集合体。类的基本思想是数据抽象和封装。而类包含数据成员和成员函数"><a href="#类是一种复杂的数据结构，它是将各种不同的数据类型和数据的相关操作封装在一起的集合体。类的基本思想是数据抽象和封装。而类包含数据成员和成员函数" class="headerlink" title="类是一种复杂的数据结构，它是将各种不同的数据类型和数据的相关操作封装在一起的集合体。类的基本思想是数据抽象和封装。而类包含数据成员和成员函数"></a>类是一种复杂的数据结构，它是将各种不同的数据类型和数据的相关操作封装在一起的集合体。类的基本思想是数据抽象和封装。而类包含数据成员和成员函数</h4><p>例如：当你定义一个人的类，一个人有他的名字（name），性别（sex），年龄（age），身高（height）等等，而这些名字，性别，年龄，身高就是类的数据成员，当然一个人还应该会吃饭（eat），会走路（move），会玩游戏（play）等等，这些就可以看成类的成员函数。这个类接下来会给出定义</p>
<hr>
<h2 id="类的定义"><a href="#类的定义" class="headerlink" title="类的定义"></a>类的定义</h2><h4 id="在C-中类由class关键字定义"><a href="#在C-中类由class关键字定义" class="headerlink" title="在C++中类由class关键字定义"></a>在C++中类由<code>class</code>关键字定义</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> 类名</div><div class="line">&#123;</div><div class="line">	<span class="comment">// 相关数据成员和成员函数</span></div><div class="line">&#125;;   <span class="comment">// 记住分号不要漏了</span></div></pre></td></tr></table></figure>
<p>例如刚刚人的类<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Person</div><div class="line">&#123;</div><div class="line">	<span class="comment">// 数据成员</span></div><div class="line">	<span class="built_in">string</span> name;</div><div class="line">	<span class="built_in">string</span> sex;</div><div class="line">	<span class="keyword">int</span> age;</div><div class="line">	<span class="keyword">double</span> height;</div><div class="line">	<span class="comment">// 成员函数</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">()</span></span>;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">play</span><span class="params">()</span></span>;</div><div class="line">	<span class="comment">// .......</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>写到这里有些人可能会想，每个人都是有隐私的，像女生，她们一般不会透露自己的年龄，个人信息就会变得很重要，这时就希望某些数据成员不被外界直接访问得到，年龄这个数据成员就被加了限制，所以我们要用到封装</p>
<hr>
<h2 id="类的访问限制和封装"><a href="#类的访问限制和封装" class="headerlink" title="类的访问限制和封装"></a>类的访问限制和封装</h2><p>在C++中，我们使用访问限制符来加强类的封装性。访问限定符包含三个：<code>public</code>, <code>private</code>, <code>protected</code></p>
<h4 id="public-公有的"><a href="#public-公有的" class="headerlink" title="public: 公有的"></a>public: 公有的</h4><h4 id="private-私有的"><a href="#private-私有的" class="headerlink" title="private: 私有的"></a>private: 私有的</h4><h4 id="protected-受保护的"><a href="#protected-受保护的" class="headerlink" title="protected: 受保护的"></a>protected: 受保护的</h4><p>当人的类加了访问限定符后<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Person</div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:			<span class="comment">//显示出来的</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">()</span></span>;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">play</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">private</span>: 		<span class="comment">// 隐藏起来的</span></div><div class="line">	<span class="built_in">string</span> name;</div><div class="line">	<span class="built_in">string</span> sex;</div><div class="line">	<span class="keyword">int</span> age;</div><div class="line">	<span class="keyword">double</span> height;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="内联函数"><a href="#内联函数" class="headerlink" title="内联函数"></a>内联函数</h2><h4 id="普通函数和内敛函数的区别"><a href="#普通函数和内敛函数的区别" class="headerlink" title="普通函数和内敛函数的区别"></a>普通函数和内敛函数的区别</h4><p>普通函数<br><a href="https://www.processon.com/chart_image/57c6365de4b0e8a504d8eac1.png" title="普通函数" target="_blank" rel="external"><img src="https://www.processon.com/chart_image/57c6365de4b0e8a504d8eac1.png" alt="普通函数" title="普通函数"></a><br>内联函数<br><a href="https://www.processon.com/chart_image/57c63975e4b0e8a504d931cf.png" title="内联函数" target="_blank" rel="external"><img src="https://www.processon.com/chart_image/57c63975e4b0e8a504d931cf.png" alt="内联函数" title="内联函数"></a><br>内联函数：避免了函数调用的额外开销<br>例如声明print为内联函数<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">inline</span> <span class="built_in">string</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;s1, <span class="keyword">const</span> <span class="built_in">string</span> &amp;s2)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">return</span> (s1.size() &lt; s2.,size() ? s1 : s2)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">当执行</div><div class="line"><span class="built_in">cout</span> &lt;&lt; print(s1, s2) &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">在编译的过程中会展开成</div><div class="line"><span class="built_in">cout</span> &lt;&lt; (s1.size() &lt; s2.size() ? s1 : s2) &lt;&lt; <span class="built_in">endl</span>;</div></pre></td></tr></table></figure>
<p>当然内联函数一般来说是比较容易的函数，如果函数有60多行代码，那么直接展开会变的很麻烦</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="Xefvan" />
          <p class="site-author-name" itemprop="name">Xefvan</p>
          <p class="site-description motion-element" itemprop="description">Do what you want, do what you wish</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">9</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/jiafanxue" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/5675853550" target="_blank" title="微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/tutuxs" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  知乎
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xefvan</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"Tutuxs"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  

</body>
</html>
